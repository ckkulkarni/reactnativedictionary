ec6a6b8651c8e4e9f1ab001c91186379
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolveUri = resolveUri;
exports.selectAssetSource = selectAssetSource;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _expoModulesCore = require("expo-modules-core");
var _pathBrowserify = _interopRequireDefault(require("path-browserify"));
var _reactNative = require("react-native");
var _urlParse = _interopRequireDefault(require("url-parse"));
var _AssetSourceResolver = _interopRequireDefault(require("./AssetSourceResolver"));
var _PlatformUtils = require("./PlatformUtils");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var assetMapOverride = (0, _PlatformUtils.getManifest)().assetMapOverride;
function selectAssetSource(meta) {
  var _manifest2$extra;
  if (assetMapOverride && assetMapOverride.hasOwnProperty(meta.hash)) {
    meta = _objectSpread(_objectSpread({}, meta), assetMapOverride[meta.hash]);
  }
  var scale = _AssetSourceResolver["default"].pickScale(meta.scales, _reactNative.PixelRatio.get());
  var index = meta.scales.findIndex(function (s) {
    return s === scale;
  });
  var hash = meta.fileHashes ? meta.fileHashes[index] || meta.fileHashes[0] : meta.hash;
  var uri = meta.fileUris ? meta.fileUris[index] || meta.fileUris[0] : meta.uri;
  if (uri) {
    return {
      uri: resolveUri(uri),
      hash: hash
    };
  }
  var assetUrlOverride = (0, _PlatformUtils.getManifest)().assetUrlOverride;
  if (assetUrlOverride) {
    var _uri = _pathBrowserify["default"].join(assetUrlOverride, hash);
    return {
      uri: resolveUri(_uri),
      hash: hash
    };
  }
  var fileScale = scale === 1 ? '' : "@".concat(scale, "x");
  var fileExtension = meta.type ? ".".concat(encodeURIComponent(meta.type)) : '';
  var suffix = "/".concat(encodeURIComponent(meta.name)).concat(fileScale).concat(fileExtension, "?platform=").concat(encodeURIComponent(_expoModulesCore.Platform.OS), "&hash=").concat(encodeURIComponent(meta.hash));
  if (/^https?:\/\//.test(meta.httpServerLocation)) {
    var _uri2 = meta.httpServerLocation + suffix;
    return {
      uri: _uri2,
      hash: hash
    };
  }
  var manifest2 = (0, _PlatformUtils.getManifest2)();
  if (manifest2 !== null && manifest2 !== void 0 && (_manifest2$extra = manifest2.extra) !== null && _manifest2$extra !== void 0 && (_manifest2$extra = _manifest2$extra.expoGo) !== null && _manifest2$extra !== void 0 && _manifest2$extra.developer) {
    var baseUrl = new _urlParse["default"]("http://".concat(manifest2.extra.expoGo.debuggerHost));
    baseUrl.set('pathname', meta.httpServerLocation + suffix);
    return {
      uri: baseUrl.href,
      hash: hash
    };
  }
  if ((0, _PlatformUtils.getManifest)().developer) {
    var _baseUrl = new _urlParse["default"]((0, _PlatformUtils.getManifest)().bundleUrl);
    _baseUrl.set('pathname', meta.httpServerLocation + suffix);
    return {
      uri: _baseUrl.href,
      hash: hash
    };
  }
  return {
    uri: "https://classic-assets.eascdn.net/~assets/".concat(encodeURIComponent(hash)),
    hash: hash
  };
}
function resolveUri(uri) {
  if (!_PlatformUtils.manifestBaseUrl) {
    return uri;
  }
  var _URL = new _urlParse["default"](uri),
    protocol = _URL.protocol;
  if (protocol !== '') {
    return uri;
  }
  var baseUrl = new _urlParse["default"](_PlatformUtils.manifestBaseUrl);
  var resolvedPath = uri.startsWith('/') ? uri : _pathBrowserify["default"].join(baseUrl.pathname, uri);
  baseUrl.set('pathname', resolvedPath);
  return baseUrl.href;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwb01vZHVsZXNDb3JlIiwicmVxdWlyZSIsIl9wYXRoQnJvd3NlcmlmeSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVhY3ROYXRpdmUiLCJfdXJsUGFyc2UiLCJfQXNzZXRTb3VyY2VSZXNvbHZlciIsIl9QbGF0Zm9ybVV0aWxzIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsIk9iamVjdCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJmb3JFYWNoIiwia2V5IiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJhc3NldE1hcE92ZXJyaWRlIiwiZ2V0TWFuaWZlc3QiLCJzZWxlY3RBc3NldFNvdXJjZSIsIm1ldGEiLCJfbWFuaWZlc3QyJGV4dHJhIiwiaGFzT3duUHJvcGVydHkiLCJoYXNoIiwic2NhbGUiLCJBc3NldFNvdXJjZVJlc29sdmVyIiwicGlja1NjYWxlIiwic2NhbGVzIiwiUGl4ZWxSYXRpbyIsImdldCIsImluZGV4IiwiZmluZEluZGV4IiwicyIsImZpbGVIYXNoZXMiLCJ1cmkiLCJmaWxlVXJpcyIsInJlc29sdmVVcmkiLCJhc3NldFVybE92ZXJyaWRlIiwicGF0aCIsImpvaW4iLCJmaWxlU2NhbGUiLCJjb25jYXQiLCJmaWxlRXh0ZW5zaW9uIiwidHlwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN1ZmZpeCIsIm5hbWUiLCJQbGF0Zm9ybSIsIk9TIiwidGVzdCIsImh0dHBTZXJ2ZXJMb2NhdGlvbiIsIm1hbmlmZXN0MiIsImdldE1hbmlmZXN0MiIsImV4dHJhIiwiZXhwb0dvIiwiZGV2ZWxvcGVyIiwiYmFzZVVybCIsIlVSTCIsImRlYnVnZ2VySG9zdCIsInNldCIsImhyZWYiLCJidW5kbGVVcmwiLCJtYW5pZmVzdEJhc2VVcmwiLCJfVVJMIiwicHJvdG9jb2wiLCJyZXNvbHZlZFBhdGgiLCJzdGFydHNXaXRoIiwicGF0aG5hbWUiXSwic291cmNlcyI6WyIuLi9zcmMvQXNzZXRTb3VyY2VzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAnZXhwby1tb2R1bGVzLWNvcmUnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aC1icm93c2VyaWZ5JztcbmltcG9ydCB7IFBpeGVsUmF0aW8gfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgUGFja2FnZXJBc3NldCB9IGZyb20gJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvSW1hZ2UvQXNzZXRSZWdpc3RyeSc7XG5pbXBvcnQgVVJMIGZyb20gJ3VybC1wYXJzZSc7XG5cbmltcG9ydCBBc3NldFNvdXJjZVJlc29sdmVyIGZyb20gJy4vQXNzZXRTb3VyY2VSZXNvbHZlcic7XG5pbXBvcnQgeyBnZXRNYW5pZmVzdCwgZ2V0TWFuaWZlc3QyLCBtYW5pZmVzdEJhc2VVcmwgfSBmcm9tICcuL1BsYXRmb3JtVXRpbHMnO1xuXG4vLyBAZG9jc01pc3NpbmdcbmV4cG9ydCB0eXBlIEFzc2V0TWV0YWRhdGEgPSBQaWNrPFxuICBQYWNrYWdlckFzc2V0LFxuICAnaHR0cFNlcnZlckxvY2F0aW9uJyB8ICduYW1lJyB8ICdoYXNoJyB8ICd0eXBlJyB8ICdzY2FsZXMnIHwgJ3dpZHRoJyB8ICdoZWlnaHQnXG4+ICYge1xuICB1cmk/OiBzdHJpbmc7XG4gIGZpbGVIYXNoZXM/OiBzdHJpbmdbXTtcbiAgZmlsZVVyaXM/OiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEFzc2V0U291cmNlID0ge1xuICB1cmk6IHN0cmluZztcbiAgaGFzaDogc3RyaW5nO1xufTtcblxuLy8gRmFzdCBsb29rdXAgY2hlY2sgaWYgYXNzZXQgbWFwIGhhcyBhbnkgb3ZlcnJpZGVzIGluIHRoZSBtYW5pZmVzdFxuY29uc3QgYXNzZXRNYXBPdmVycmlkZSA9IGdldE1hbmlmZXN0KCkuYXNzZXRNYXBPdmVycmlkZTtcblxuLyoqXG4gKiBTZWxlY3RzIHRoZSBiZXN0IGZpbGUgZm9yIHRoZSBnaXZlbiBhc3NldCAoZXg6IGNob29zaW5nIHRoZSBiZXN0IHNjYWxlIGZvciBpbWFnZXMpIGFuZCByZXR1cm5zXG4gKiBhIHsgdXJpLCBoYXNoIH0gcGFpciBmb3IgdGhlIHNwZWNpZmljIGFzc2V0IGZpbGUuXG4gKlxuICogSWYgdGhlIGFzc2V0IGlzbid0IGFuIGltYWdlIHdpdGggbXVsdGlwbGUgc2NhbGVzLCB0aGUgZmlyc3QgZmlsZSBpcyBzZWxlY3RlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEFzc2V0U291cmNlKG1ldGE6IEFzc2V0TWV0YWRhdGEpOiBBc3NldFNvdXJjZSB7XG4gIC8vIE92ZXJyaWRlIHdpdGggdGhlIGFzc2V0IG1hcCBpbiBtYW5pZmVzdCBpZiBhdmFpbGFibGVcbiAgaWYgKGFzc2V0TWFwT3ZlcnJpZGUgJiYgYXNzZXRNYXBPdmVycmlkZS5oYXNPd25Qcm9wZXJ0eShtZXRhLmhhc2gpKSB7XG4gICAgbWV0YSA9IHsgLi4ubWV0YSwgLi4uYXNzZXRNYXBPdmVycmlkZVttZXRhLmhhc2hdIH07XG4gIH1cblxuICAvLyBUaGlzIGxvZ2ljIGlzIGJhc2VkIG9uIHRoYXQgb2YgQXNzZXRTb3VyY2VSZXNvbHZlciwgd2l0aCBhZGRpdGlvbmFsIHN1cHBvcnQgZm9yIGZpbGUgaGFzaGVzIGFuZFxuICAvLyBleHBsaWNpdGx5IHByb3ZpZGVkIFVSSXNcbiAgY29uc3Qgc2NhbGUgPSBBc3NldFNvdXJjZVJlc29sdmVyLnBpY2tTY2FsZShtZXRhLnNjYWxlcywgUGl4ZWxSYXRpby5nZXQoKSk7XG4gIGNvbnN0IGluZGV4ID0gbWV0YS5zY2FsZXMuZmluZEluZGV4KChzKSA9PiBzID09PSBzY2FsZSk7XG4gIGNvbnN0IGhhc2ggPSBtZXRhLmZpbGVIYXNoZXMgPyBtZXRhLmZpbGVIYXNoZXNbaW5kZXhdIHx8IG1ldGEuZmlsZUhhc2hlc1swXSA6IG1ldGEuaGFzaDtcblxuICAvLyBBbGxvdyBhc3NldCBwcm9jZXNzb3JzIHRvIGRpcmVjdGx5IHByb3ZpZGUgdGhlIFVSTCB0byBsb2FkXG4gIGNvbnN0IHVyaSA9IG1ldGEuZmlsZVVyaXMgPyBtZXRhLmZpbGVVcmlzW2luZGV4XSB8fCBtZXRhLmZpbGVVcmlzWzBdIDogbWV0YS51cmk7XG4gIGlmICh1cmkpIHtcbiAgICByZXR1cm4geyB1cmk6IHJlc29sdmVVcmkodXJpKSwgaGFzaCB9O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIGFzc2V0VXJsIHdhcyBvdmVycmlkZGVuIGluIHRoZSBtYW5pZmVzdFxuICBjb25zdCBhc3NldFVybE92ZXJyaWRlID0gZ2V0TWFuaWZlc3QoKS5hc3NldFVybE92ZXJyaWRlO1xuICBpZiAoYXNzZXRVcmxPdmVycmlkZSkge1xuICAgIGNvbnN0IHVyaSA9IHBhdGguam9pbihhc3NldFVybE92ZXJyaWRlLCBoYXNoKTtcbiAgICByZXR1cm4geyB1cmk6IHJlc29sdmVVcmkodXJpKSwgaGFzaCB9O1xuICB9XG5cbiAgY29uc3QgZmlsZVNjYWxlID0gc2NhbGUgPT09IDEgPyAnJyA6IGBAJHtzY2FsZX14YDtcbiAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IG1ldGEudHlwZSA/IGAuJHtlbmNvZGVVUklDb21wb25lbnQobWV0YS50eXBlKX1gIDogJyc7XG4gIGNvbnN0IHN1ZmZpeCA9IGAvJHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgbWV0YS5uYW1lXG4gICl9JHtmaWxlU2NhbGV9JHtmaWxlRXh0ZW5zaW9ufT9wbGF0Zm9ybT0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICBQbGF0Zm9ybS5PU1xuICApfSZoYXNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG1ldGEuaGFzaCl9YDtcblxuICAvLyBGb3IgYXNzZXRzIHdpdGggYSBzcGVjaWZpZWQgYWJzb2x1dGUgVVJMLCB3ZSB1c2UgdGhlIGV4aXN0aW5nIG9yaWdpbiBpbnN0ZWFkIG9mIHByZXBlbmRpbmcgdGhlXG4gIC8vIGRldmVsb3BtZW50IHNlcnZlciBvciBwcm9kdWN0aW9uIENETiBVUkwgb3JpZ2luXG4gIGlmICgvXmh0dHBzPzpcXC9cXC8vLnRlc3QobWV0YS5odHRwU2VydmVyTG9jYXRpb24pKSB7XG4gICAgY29uc3QgdXJpID0gbWV0YS5odHRwU2VydmVyTG9jYXRpb24gKyBzdWZmaXg7XG4gICAgcmV0dXJuIHsgdXJpLCBoYXNoIH07XG4gIH1cblxuICAvLyBGb3IgYXNzZXRzIGR1cmluZyBkZXZlbG9wbWVudCB1c2luZyBtYW5pZmVzdDIsIHdlIHVzZSB0aGUgZGV2ZWxvcG1lbnQgc2VydmVyJ3MgVVJMIG9yaWdpblxuICBjb25zdCBtYW5pZmVzdDIgPSBnZXRNYW5pZmVzdDIoKTtcblxuICBpZiAobWFuaWZlc3QyPy5leHRyYT8uZXhwb0dvPy5kZXZlbG9wZXIpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTChgaHR0cDovLyR7bWFuaWZlc3QyLmV4dHJhLmV4cG9Hby5kZWJ1Z2dlckhvc3R9YCk7XG4gICAgYmFzZVVybC5zZXQoJ3BhdGhuYW1lJywgbWV0YS5odHRwU2VydmVyTG9jYXRpb24gKyBzdWZmaXgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVyaTogYmFzZVVybC5ocmVmLFxuICAgICAgaGFzaCxcbiAgICB9O1xuICB9XG5cbiAgLy8gRm9yIGFzc2V0cyBkdXJpbmcgZGV2ZWxvcG1lbnQsIHdlIHVzZSB0aGUgZGV2ZWxvcG1lbnQgc2VydmVyJ3MgVVJMIG9yaWdpblxuICBpZiAoZ2V0TWFuaWZlc3QoKS5kZXZlbG9wZXIpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTChnZXRNYW5pZmVzdCgpLmJ1bmRsZVVybCk7XG4gICAgYmFzZVVybC5zZXQoJ3BhdGhuYW1lJywgbWV0YS5odHRwU2VydmVyTG9jYXRpb24gKyBzdWZmaXgpO1xuICAgIHJldHVybiB7IHVyaTogYmFzZVVybC5ocmVmLCBoYXNoIH07XG4gIH1cblxuICAvLyBQcm9kdWN0aW9uIENETiBVUklzIGFyZSBiYXNlZCBvbiBlYWNoIGFzc2V0IGZpbGUgaGFzaFxuICByZXR1cm4ge1xuICAgIHVyaTogYGh0dHBzOi8vY2xhc3NpYy1hc3NldHMuZWFzY2RuLm5ldC9+YXNzZXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGhhc2gpfWAsXG4gICAgaGFzaCxcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgZ2l2ZW4gVVJJIHRvIGFuIGFic29sdXRlIFVSSS4gSWYgdGhlIGdpdmVuIFVSSSBpcyBhbHJlYWR5IGFuIGFic29sdXRlIFVSSSwgaXQgaXNcbiAqIHNpbXBseSByZXR1cm5lZC4gT3RoZXJ3aXNlLCBpZiBpdCBpcyBhIHJlbGF0aXZlIFVSSSwgaXQgaXMgcmVzb2x2ZWQgcmVsYXRpdmUgdG8gdGhlIG1hbmlmZXN0J3NcbiAqIGJhc2UgVVJJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVyaSh1cmk6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghbWFuaWZlc3RCYXNlVXJsKSB7XG4gICAgcmV0dXJuIHVyaTtcbiAgfVxuXG4gIGNvbnN0IHsgcHJvdG9jb2wgfSA9IG5ldyBVUkwodXJpKTtcbiAgaWYgKHByb3RvY29sICE9PSAnJykge1xuICAgIHJldHVybiB1cmk7XG4gIH1cblxuICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTChtYW5pZmVzdEJhc2VVcmwpO1xuICBjb25zdCByZXNvbHZlZFBhdGggPSB1cmkuc3RhcnRzV2l0aCgnLycpID8gdXJpIDogcGF0aC5qb2luKGJhc2VVcmwucGF0aG5hbWUsIHVyaSk7XG4gIGJhc2VVcmwuc2V0KCdwYXRobmFtZScsIHJlc29sdmVkUGF0aCk7XG4gIHJldHVybiBiYXNlVXJsLmhyZWY7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLGdCQUFBLEdBQUFDLE9BQUE7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