dffd268414a16ffeeb45af9c04164430
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getFileExtension = getFileExtension;
exports.getFilename = getFilename;
exports.getManifestBaseUrl = getManifestBaseUrl;
var _urlParse = _interopRequireDefault(require("url-parse"));
function getFilename(url) {
  var _URL = new _urlParse["default"](url, {}),
    pathname = _URL.pathname;
  return pathname.substring(pathname.lastIndexOf('/') + 1);
}
function getFileExtension(url) {
  var filename = getFilename(url);
  var dotIndex = filename.lastIndexOf('.');
  return dotIndex > 0 ? filename.substring(dotIndex) : '';
}
function getManifestBaseUrl(manifestUrl) {
  var urlObject = new _urlParse["default"](manifestUrl, {});
  if (urlObject.protocol === 'exp:') {
    urlObject.set('protocol', 'http:');
  } else if (urlObject.protocol === 'exps:') {
    urlObject.set('protocol', 'https:');
  }
  var directory = urlObject.pathname.substring(0, urlObject.pathname.lastIndexOf('/') + 1);
  urlObject.set('pathname', directory);
  urlObject.set('query', '');
  urlObject.set('hash', '');
  return urlObject.href;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXJsUGFyc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImdldEZpbGVuYW1lIiwidXJsIiwiX1VSTCIsIlVSTCIsInBhdGhuYW1lIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZmlsZW5hbWUiLCJkb3RJbmRleCIsImdldE1hbmlmZXN0QmFzZVVybCIsIm1hbmlmZXN0VXJsIiwidXJsT2JqZWN0IiwicHJvdG9jb2wiLCJzZXQiLCJkaXJlY3RvcnkiLCJocmVmIl0sInNvdXJjZXMiOlsiLi4vc3JjL0Fzc2V0VXJpcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVVJMIGZyb20gJ3VybC1wYXJzZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlbmFtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHsgcGF0aG5hbWUgfSA9IG5ldyBVUkwodXJsLCB7fSk7XG4gIHJldHVybiBwYXRobmFtZS5zdWJzdHJpbmcocGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGZpbGVuYW1lID0gZ2V0RmlsZW5hbWUodXJsKTtcbiAgY29uc3QgZG90SW5kZXggPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAvLyBJZ25vcmUgbGVhZGluZyBkb3RzIGZvciBoaWRkZW4gZmlsZXNcbiAgcmV0dXJuIGRvdEluZGV4ID4gMCA/IGZpbGVuYW1lLnN1YnN0cmluZyhkb3RJbmRleCkgOiAnJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiYXNlIFVSTCBmcm9tIGEgbWFuaWZlc3QncyBVUkwuIEZvciBleGFtcGxlLCBnaXZlbiBhIG1hbmlmZXN0IGhvc3RlZCBhdFxuICogaHR0cHM6Ly9leGFtcGxlLmNvbS9hcHAvbWFuaWZlc3QuanNvbiwgdGhlIGJhc2UgVVJMIHdvdWxkIGJlIGh0dHBzOi8vZXhhbXBsZS5jb20vYXBwLy4gUXVlcnlcbiAqIHBhcmFtZXRlcnMgYW5kIGZyYWdtZW50cyBhbHNvIGFyZSByZW1vdmVkLlxuICpcbiAqIEZvciBhbiBFeHBvLWhvc3RlZCBwcm9qZWN0IHdpdGggYSBtYW5pZmVzdCBob3N0ZWQgYXQgaHR0cHM6Ly9leHAuaG9zdC9AdXNlci9wcm9qZWN0L2luZGV4LmV4cCwgdGhlXG4gKiBiYXNlIFVSTCB3b3VsZCBiZSBodHRwczovL2V4cC5ob3N0L0B1c2VyL3Byb2plY3QuXG4gKlxuICogV2UgYWxzbyBub3JtYWxpemUgdGhlIFwiZXhwXCIgcHJvdG9jb2wgdG8gXCJodHRwXCIgdG8gaGFuZGxlIGludGVybmFsIFVSTHMgd2l0aCB0aGUgRXhwbyBzY2hlbWVzIHVzZWRcbiAqIHRvIHRlbGwgdGhlIE9TIHRvIG9wZW4gdGhlIFVSTHMgaW4gdGhlIHRoZSBFeHBvIGNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1hbmlmZXN0QmFzZVVybChtYW5pZmVzdFVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgdXJsT2JqZWN0ID0gbmV3IFVSTChtYW5pZmVzdFVybCwge30pO1xuXG4gIC8vIENoYW5nZSB0aGUgc2NoZW1lIHRvIGh0dHAocykgaWYgaXQgaXMgZXhwKHMpXG4gIGlmICh1cmxPYmplY3QucHJvdG9jb2wgPT09ICdleHA6Jykge1xuICAgIHVybE9iamVjdC5zZXQoJ3Byb3RvY29sJywgJ2h0dHA6Jyk7XG4gIH0gZWxzZSBpZiAodXJsT2JqZWN0LnByb3RvY29sID09PSAnZXhwczonKSB7XG4gICAgdXJsT2JqZWN0LnNldCgncHJvdG9jb2wnLCAnaHR0cHM6Jyk7XG4gIH1cblxuICAvLyBUcmltIGZpbGVuYW1lLCBxdWVyeSBwYXJhbWV0ZXJzLCBhbmQgZnJhZ21lbnQsIGlmIGFueVxuICBjb25zdCBkaXJlY3RvcnkgPSB1cmxPYmplY3QucGF0aG5hbWUuc3Vic3RyaW5nKDAsIHVybE9iamVjdC5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gIHVybE9iamVjdC5zZXQoJ3BhdGhuYW1lJywgZGlyZWN0b3J5KTtcbiAgdXJsT2JqZWN0LnNldCgncXVlcnknLCAnJyk7XG4gIHVybE9iamVjdC5zZXQoJ2hhc2gnLCAnJyk7XG5cbiAgcmV0dXJuIHVybE9iamVjdC5ocmVmO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFTSxTQUFVQyxXQUFXQSxDQUFDQyxHQUFXO0VBQ3JDLElBQUFDLElBQUEsR0FBcUIsSUFBSUMsb0JBQUcsQ0FBQ0YsR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUE3QkcsUUFBUSxHQUFBRixJQUFBLENBQVJFLFFBQVE7RUFDaEIsT0FBT0EsUUFBUSxDQUFDQyxTQUFTLENBQUNELFFBQVEsQ0FBQ0UsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxRDtBQUVNLFNBQVVDLGdCQUFnQkEsQ0FBQ04sR0FBVztFQUMxQyxJQUFNTyxRQUFRLEdBQUdSLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDO0VBQ2pDLElBQU1RLFFBQVEsR0FBR0QsUUFBUSxDQUFDRixXQUFXLENBQUMsR0FBRyxDQUFDO0VBRTFDLE9BQU9HLFFBQVEsR0FBRyxDQUFDLEdBQUdELFFBQVEsQ0FBQ0gsU0FBUyxDQUFDSSxRQUFRLENBQUMsR0FBRyxFQUFFO0FBQ3pEO0FBYU0sU0FBVUMsa0JBQWtCQSxDQUFDQyxXQUFtQjtFQUNwRCxJQUFNQyxTQUFTLEdBQUcsSUFBSVQsb0JBQUcsQ0FBQ1EsV0FBVyxFQUFFLEVBQUUsQ0FBQztFQUcxQyxJQUFJQyxTQUFTLENBQUNDLFFBQVEsS0FBSyxNQUFNLEVBQUU7SUFDakNELFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUM7R0FDbkMsTUFBTSxJQUFJRixTQUFTLENBQUNDLFFBQVEsS0FBSyxPQUFPLEVBQUU7SUFDekNELFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7O0VBSXJDLElBQU1DLFNBQVMsR0FBR0gsU0FBUyxDQUFDUixRQUFRLENBQUNDLFNBQVMsQ0FBQyxDQUFDLEVBQUVPLFNBQVMsQ0FBQ1IsUUFBUSxDQUFDRSxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0VBQzFGTSxTQUFTLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVDLFNBQVMsQ0FBQztFQUNwQ0gsU0FBUyxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQztFQUMxQkYsU0FBUyxDQUFDRSxHQUFHLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztFQUV6QixPQUFPRixTQUFTLENBQUNJLElBQUk7QUFDdkIifQ==