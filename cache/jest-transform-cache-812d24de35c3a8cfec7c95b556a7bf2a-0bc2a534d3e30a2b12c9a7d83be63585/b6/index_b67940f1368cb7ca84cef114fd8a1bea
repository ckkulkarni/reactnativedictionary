c5942550030501a04267604f9ff31d2f
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _wrapNativeSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var base64Decode = require('fast-base64-decode');
var _require = require('react-native'),
  NativeModules = _require.NativeModules;
var TypeMismatchError = function (_Error) {
  (0, _inherits2["default"])(TypeMismatchError, _Error);
  var _super = _createSuper(TypeMismatchError);
  function TypeMismatchError() {
    (0, _classCallCheck2["default"])(this, TypeMismatchError);
    return _super.apply(this, arguments);
  }
  return (0, _createClass2["default"])(TypeMismatchError);
}((0, _wrapNativeSuper2["default"])(Error));
var QuotaExceededError = function (_Error2) {
  (0, _inherits2["default"])(QuotaExceededError, _Error2);
  var _super2 = _createSuper(QuotaExceededError);
  function QuotaExceededError() {
    (0, _classCallCheck2["default"])(this, QuotaExceededError);
    return _super2.apply(this, arguments);
  }
  return (0, _createClass2["default"])(QuotaExceededError);
}((0, _wrapNativeSuper2["default"])(Error));
var warned = false;
function insecureRandomValues(array) {
  if (!warned) {
    console.warn('Using an insecure random number generator, this should only happen when running in a debugger without support for crypto.getRandomValues');
    warned = true;
  }
  for (var i = 0, r; i < array.length; i++) {
    if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
    array[i] = r >>> ((i & 0x03) << 3) & 0xff;
  }
  return array;
}
function getRandomBase64(byteLength) {
  if (NativeModules.RNGetRandomValues) {
    return NativeModules.RNGetRandomValues.getRandomBase64(byteLength);
  } else if (NativeModules.ExpoRandom) {
    return NativeModules.ExpoRandom.getRandomBase64String(byteLength);
  } else if (global.ExpoModules) {
    return global.ExpoModules.ExpoRandom.getRandomBase64String(byteLength);
  } else {
    throw new Error('Native module not found');
  }
}
function getRandomValues(array) {
  if (!(array instanceof Int8Array || array instanceof Uint8Array || array instanceof Int16Array || array instanceof Uint16Array || array instanceof Int32Array || array instanceof Uint32Array || array instanceof Uint8ClampedArray)) {
    throw new TypeMismatchError('Expected an integer array');
  }
  if (array.byteLength > 65536) {
    throw new QuotaExceededError('Can only request a maximum of 65536 bytes');
  }
  if (global.expo && global.expo.modules && global.expo.modules.ExpoCrypto && global.expo.modules.ExpoCrypto.getRandomValues) {
    global.expo.modules.ExpoCrypto.getRandomValues(array);
    return array;
  }
  if (__DEV__) {
    if (typeof global.nativeCallSyncHook === 'undefined') {
      return insecureRandomValues(array);
    }
  }
  base64Decode(getRandomBase64(array.byteLength), new Uint8Array(array.buffer, array.byteOffset, array.byteLength));
  return array;
}
if ((0, _typeof2["default"])(global.crypto) !== 'object') {
  global.crypto = {};
}
if (typeof global.crypto.getRandomValues !== 'function') {
  global.crypto.getRandomValues = getRandomValues;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlNjREZWNvZGUiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJOYXRpdmVNb2R1bGVzIiwiVHlwZU1pc21hdGNoRXJyb3IiLCJfRXJyb3IiLCJfaW5oZXJpdHMyIiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiX2NsYXNzQ2FsbENoZWNrMiIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2NyZWF0ZUNsYXNzMiIsIl93cmFwTmF0aXZlU3VwZXIyIiwiRXJyb3IiLCJRdW90YUV4Y2VlZGVkRXJyb3IiLCJfRXJyb3IyIiwiX3N1cGVyMiIsIndhcm5lZCIsImluc2VjdXJlUmFuZG9tVmFsdWVzIiwiYXJyYXkiLCJjb25zb2xlIiwid2FybiIsImkiLCJyIiwibGVuZ3RoIiwiTWF0aCIsInJhbmRvbSIsImdldFJhbmRvbUJhc2U2NCIsImJ5dGVMZW5ndGgiLCJSTkdldFJhbmRvbVZhbHVlcyIsIkV4cG9SYW5kb20iLCJnZXRSYW5kb21CYXNlNjRTdHJpbmciLCJnbG9iYWwiLCJFeHBvTW9kdWxlcyIsImdldFJhbmRvbVZhbHVlcyIsIkludDhBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsImV4cG8iLCJtb2R1bGVzIiwiRXhwb0NyeXB0byIsIl9fREVWX18iLCJuYXRpdmVDYWxsU3luY0hvb2siLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiX3R5cGVvZjIiLCJjcnlwdG8iXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBiYXNlNjREZWNvZGUgPSByZXF1aXJlKCdmYXN0LWJhc2U2NC1kZWNvZGUnKVxuY29uc3QgeyBOYXRpdmVNb2R1bGVzIH0gPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKVxuXG5jbGFzcyBUeXBlTWlzbWF0Y2hFcnJvciBleHRlbmRzIEVycm9yIHt9XG5jbGFzcyBRdW90YUV4Y2VlZGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5sZXQgd2FybmVkID0gZmFsc2VcbmZ1bmN0aW9uIGluc2VjdXJlUmFuZG9tVmFsdWVzIChhcnJheSkge1xuICBpZiAoIXdhcm5lZCkge1xuICAgIGNvbnNvbGUud2FybignVXNpbmcgYW4gaW5zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IsIHRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIHdoZW4gcnVubmluZyBpbiBhIGRlYnVnZ2VyIHdpdGhvdXQgc3VwcG9ydCBmb3IgY3J5cHRvLmdldFJhbmRvbVZhbHVlcycpXG4gICAgd2FybmVkID0gdHJ1ZVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIHI7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwXG4gICAgYXJyYXlbaV0gPSAociA+Pj4gKChpICYgMHgwMykgPDwgMykpICYgMHhmZlxuICB9XG5cbiAgcmV0dXJuIGFycmF5XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVMZW5ndGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFJhbmRvbUJhc2U2NCAoYnl0ZUxlbmd0aCkge1xuICBpZiAoTmF0aXZlTW9kdWxlcy5STkdldFJhbmRvbVZhbHVlcykge1xuICAgIHJldHVybiBOYXRpdmVNb2R1bGVzLlJOR2V0UmFuZG9tVmFsdWVzLmdldFJhbmRvbUJhc2U2NChieXRlTGVuZ3RoKVxuICB9IGVsc2UgaWYgKE5hdGl2ZU1vZHVsZXMuRXhwb1JhbmRvbSkge1xuICAgIC8vIEV4cG8gU0RLIDQxLTQ0XG4gICAgcmV0dXJuIE5hdGl2ZU1vZHVsZXMuRXhwb1JhbmRvbS5nZXRSYW5kb21CYXNlNjRTdHJpbmcoYnl0ZUxlbmd0aClcbiAgfSBlbHNlIGlmIChnbG9iYWwuRXhwb01vZHVsZXMpIHtcbiAgICAvLyBFeHBvIFNESyA0NStcbiAgICByZXR1cm4gZ2xvYmFsLkV4cG9Nb2R1bGVzLkV4cG9SYW5kb20uZ2V0UmFuZG9tQmFzZTY0U3RyaW5nKGJ5dGVMZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlIG1vZHVsZSBub3QgZm91bmQnKVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtJbnQ4QXJyYXl8VWludDhBcnJheXxJbnQxNkFycmF5fFVpbnQxNkFycmF5fEludDMyQXJyYXl8VWludDMyQXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycmF5XG4gKi9cbmZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlcyAoYXJyYXkpIHtcbiAgaWYgKCEoYXJyYXkgaW5zdGFuY2VvZiBJbnQ4QXJyYXkgfHwgYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgSW50MTZBcnJheSB8fCBhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgSW50MzJBcnJheSB8fCBhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVNaXNtYXRjaEVycm9yKCdFeHBlY3RlZCBhbiBpbnRlZ2VyIGFycmF5JylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoID4gNjU1MzYpIHtcbiAgICB0aHJvdyBuZXcgUXVvdGFFeGNlZWRlZEVycm9yKCdDYW4gb25seSByZXF1ZXN0IGEgbWF4aW11bSBvZiA2NTUzNiBieXRlcycpXG4gIH1cblxuICAvLyBFeHBvIFNESyA0OCtcbiAgaWYgKGdsb2JhbC5leHBvICYmIGdsb2JhbC5leHBvLm1vZHVsZXMgJiYgZ2xvYmFsLmV4cG8ubW9kdWxlcy5FeHBvQ3J5cHRvICYmIGdsb2JhbC5leHBvLm1vZHVsZXMuRXhwb0NyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBFeHBvQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyBkb2Vzbid0IHJldHVybiB0aGUgYXJyYXlcbiAgICBnbG9iYWwuZXhwby5tb2R1bGVzLkV4cG9DcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KVxuICAgIHJldHVybiBhcnJheVxuICB9XG5cbiAgLy8gQ2FsbGluZyBnZXRSYW5kb21CYXNlNjQgaW4gZGVidWcgbW9kZSBsZWFkcyB0byB0aGUgZXJyb3JcbiAgLy8gXCJDYWxsaW5nIHN5bmNocm9ub3VzIG1ldGhvZHMgb24gbmF0aXZlIG1vZHVsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiBDaHJvbWVcIi5cbiAgLy8gU28gaW4gdGhhdCBzcGVjaWZpYyBjYXNlIHdlIGZhbGwgYmFjayB0byBqdXN0IHVzaW5nIE1hdGgucmFuZG9tLlxuICBpZiAoX19ERVZfXykge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLm5hdGl2ZUNhbGxTeW5jSG9vayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBpbnNlY3VyZVJhbmRvbVZhbHVlcyhhcnJheSlcbiAgICB9XG4gIH1cblxuICBiYXNlNjREZWNvZGUoZ2V0UmFuZG9tQmFzZTY0KGFycmF5LmJ5dGVMZW5ndGgpLCBuZXcgVWludDhBcnJheShhcnJheS5idWZmZXIsIGFycmF5LmJ5dGVPZmZzZXQsIGFycmF5LmJ5dGVMZW5ndGgpKVxuXG4gIHJldHVybiBhcnJheVxufVxuXG5pZiAodHlwZW9mIGdsb2JhbC5jcnlwdG8gIT09ICdvYmplY3QnKSB7XG4gIGdsb2JhbC5jcnlwdG8gPSB7fVxufVxuXG5pZiAodHlwZW9mIGdsb2JhbC5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICE9PSAnZnVuY3Rpb24nKSB7XG4gIGdsb2JhbC5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID0gZ2V0UmFuZG9tVmFsdWVzXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ2xELElBQUFDLFFBQUEsR0FBMEJELE9BQU8sQ0FBQyxjQUFjLENBQUM7RUFBekNFLGFBQWEsR0FBQUQs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