1000b0e26c1992684045cd16be8ce0df
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  _DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS: true,
  _DEFAULT_INITIAL_PLAYBACK_STATUS: true,
  getNativeSourceFromSource: true,
  assertStatusValuesInBounds: true,
  getNativeSourceAndFullInitialStatusForLoadAsync: true,
  getUnloadedStatus: true,
  PlaybackMixin: true
};
exports._DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS = exports._DEFAULT_INITIAL_PLAYBACK_STATUS = exports.PlaybackMixin = void 0;
exports.assertStatusValuesInBounds = assertStatusValuesInBounds;
exports.getNativeSourceAndFullInitialStatusForLoadAsync = getNativeSourceAndFullInitialStatusForLoadAsync;
exports.getNativeSourceFromSource = getNativeSourceFromSource;
exports.getUnloadedStatus = getUnloadedStatus;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _expoAsset = require("expo-asset");
var _expoModulesCore = require("expo-modules-core");
var _AV = require("./AV.types");
Object.keys(_AV).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _AV[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AV[key];
    }
  });
});
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var _DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS = 500;
exports._DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS = _DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS;
var _DEFAULT_INITIAL_PLAYBACK_STATUS = {
  positionMillis: 0,
  progressUpdateIntervalMillis: _DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS,
  shouldPlay: false,
  rate: 1.0,
  shouldCorrectPitch: false,
  volume: 1.0,
  audioPan: 0,
  isMuted: false,
  isLooping: false
};
exports._DEFAULT_INITIAL_PLAYBACK_STATUS = _DEFAULT_INITIAL_PLAYBACK_STATUS;
function getNativeSourceFromSource(source) {
  var uri = null;
  var overridingExtension = null;
  var headers;
  if (typeof source === 'string' && _expoModulesCore.Platform.OS === 'web') {
    return {
      uri: source,
      overridingExtension: overridingExtension,
      headers: headers
    };
  }
  var asset = _getAssetFromPlaybackSource(source);
  if (asset != null) {
    uri = asset.localUri || asset.uri;
  } else if (source != null && typeof source !== 'number' && 'uri' in source && typeof source.uri === 'string') {
    uri = source.uri;
  }
  if (uri == null) {
    return null;
  }
  if (source != null && typeof source !== 'number' && 'overrideFileExtensionAndroid' in source && typeof source.overrideFileExtensionAndroid === 'string') {
    overridingExtension = source.overrideFileExtensionAndroid;
  }
  if (source != null && typeof source !== 'number' && 'headers' in source && typeof source.headers === 'object') {
    headers = source.headers;
  }
  return {
    uri: uri,
    overridingExtension: overridingExtension,
    headers: headers
  };
}
function _getAssetFromPlaybackSource(source) {
  if (source == null) {
    return null;
  }
  var asset = null;
  if (typeof source === 'number') {
    asset = _expoAsset.Asset.fromModule(source);
  } else if (source instanceof _expoAsset.Asset) {
    asset = source;
  }
  return asset;
}
function assertStatusValuesInBounds(status) {
  if (typeof status.rate === 'number' && (status.rate < 0 || status.rate > 32)) {
    throw new RangeError('Rate value must be between 0.0 and 32.0');
  }
  if (typeof status.volume === 'number' && (status.volume < 0 || status.volume > 1)) {
    throw new RangeError('Volume value must be between 0.0 and 1.0');
  }
  if (typeof status.audioPan === 'number' && (status.audioPan < -1 || status.audioPan > 1)) {
    throw new RangeError('Pan value must be between -1.0 and 1.0');
  }
}
function getNativeSourceAndFullInitialStatusForLoadAsync(_x, _x2, _x3) {
  return _getNativeSourceAndFullInitialStatusForLoadAsync.apply(this, arguments);
}
function _getNativeSourceAndFullInitialStatusForLoadAsync() {
  _getNativeSourceAndFullInitialStatusForLoadAsync = (0, _asyncToGenerator2.default)(function* (source, initialStatus, downloadFirst) {
    var fullInitialStatus = initialStatus == null ? _DEFAULT_INITIAL_PLAYBACK_STATUS : _objectSpread(_objectSpread({}, _DEFAULT_INITIAL_PLAYBACK_STATUS), initialStatus);
    assertStatusValuesInBounds(fullInitialStatus);
    if (typeof source === 'string' && _expoModulesCore.Platform.OS === 'web') {
      return {
        nativeSource: {
          uri: source,
          overridingExtension: null
        },
        fullInitialStatus: fullInitialStatus
      };
    }
    var asset = _getAssetFromPlaybackSource(source);
    if (downloadFirst && asset) {
      yield asset.downloadAsync();
    }
    var nativeSource = getNativeSourceFromSource(source);
    if (nativeSource === null) {
      throw new Error(`Cannot load an AV asset from a null playback source`);
    }
    if (asset && asset.localUri) {
      nativeSource.uri = asset.localUri;
    }
    return {
      nativeSource: nativeSource,
      fullInitialStatus: fullInitialStatus
    };
  });
  return _getNativeSourceAndFullInitialStatusForLoadAsync.apply(this, arguments);
}
function getUnloadedStatus() {
  var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  return _objectSpread({
    isLoaded: false
  }, error ? {
    error: error
  } : null);
}
var PlaybackMixin = {
  playAsync: function () {
    var _playAsync = (0, _asyncToGenerator2.default)(function* () {
      return this.setStatusAsync({
        shouldPlay: true
      });
    });
    function playAsync() {
      return _playAsync.apply(this, arguments);
    }
    return playAsync;
  }(),
  playFromPositionAsync: function () {
    var _playFromPositionAsync = (0, _asyncToGenerator2.default)(function* (positionMillis) {
      var tolerances = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return this.setStatusAsync({
        positionMillis: positionMillis,
        shouldPlay: true,
        seekMillisToleranceAfter: tolerances.toleranceMillisAfter,
        seekMillisToleranceBefore: tolerances.toleranceMillisBefore
      });
    });
    function playFromPositionAsync(_x4) {
      return _playFromPositionAsync.apply(this, arguments);
    }
    return playFromPositionAsync;
  }(),
  pauseAsync: function () {
    var _pauseAsync = (0, _asyncToGenerator2.default)(function* () {
      return this.setStatusAsync({
        shouldPlay: false
      });
    });
    function pauseAsync() {
      return _pauseAsync.apply(this, arguments);
    }
    return pauseAsync;
  }(),
  stopAsync: function () {
    var _stopAsync = (0, _asyncToGenerator2.default)(function* () {
      return this.setStatusAsync({
        positionMillis: 0,
        shouldPlay: false
      });
    });
    function stopAsync() {
      return _stopAsync.apply(this, arguments);
    }
    return stopAsync;
  }(),
  setPositionAsync: function () {
    var _setPositionAsync = (0, _asyncToGenerator2.default)(function* (positionMillis) {
      var tolerances = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return this.setStatusAsync({
        positionMillis: positionMillis,
        seekMillisToleranceAfter: tolerances.toleranceMillisAfter,
        seekMillisToleranceBefore: tolerances.toleranceMillisBefore
      });
    });
    function setPositionAsync(_x5) {
      return _setPositionAsync.apply(this, arguments);
    }
    return setPositionAsync;
  }(),
  setRateAsync: function () {
    var _setRateAsync = (0, _asyncToGenerator2.default)(function* (rate) {
      var shouldCorrectPitch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var pitchCorrectionQuality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _AV.PitchCorrectionQuality.Low;
      return this.setStatusAsync({
        rate: rate,
        shouldCorrectPitch: shouldCorrectPitch,
        pitchCorrectionQuality: pitchCorrectionQuality
      });
    });
    function setRateAsync(_x6) {
      return _setRateAsync.apply(this, arguments);
    }
    return setRateAsync;
  }(),
  setVolumeAsync: function () {
    var _setVolumeAsync = (0, _asyncToGenerator2.default)(function* (volume, audioPan) {
      return this.setStatusAsync({
        volume: volume,
        audioPan: audioPan
      });
    });
    function setVolumeAsync(_x7, _x8) {
      return _setVolumeAsync.apply(this, arguments);
    }
    return setVolumeAsync;
  }(),
  setIsMutedAsync: function () {
    var _setIsMutedAsync = (0, _asyncToGenerator2.default)(function* (isMuted) {
      return this.setStatusAsync({
        isMuted: isMuted
      });
    });
    function setIsMutedAsync(_x9) {
      return _setIsMutedAsync.apply(this, arguments);
    }
    return setIsMutedAsync;
  }(),
  setIsLoopingAsync: function () {
    var _setIsLoopingAsync = (0, _asyncToGenerator2.default)(function* (isLooping) {
      return this.setStatusAsync({
        isLooping: isLooping
      });
    });
    function setIsLoopingAsync(_x10) {
      return _setIsLoopingAsync.apply(this, arguments);
    }
    return setIsLoopingAsync;
  }(),
  setProgressUpdateIntervalAsync: function () {
    var _setProgressUpdateIntervalAsync = (0, _asyncToGenerator2.default)(function* (progressUpdateIntervalMillis) {
      return this.setStatusAsync({
        progressUpdateIntervalMillis: progressUpdateIntervalMillis
      });
    });
    function setProgressUpdateIntervalAsync(_x11) {
      return _setProgressUpdateIntervalAsync.apply(this, arguments);
    }
    return setProgressUpdateIntervalAsync;
  }()
};
exports.PlaybackMixin = PlaybackMixin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwb0Fzc2V0IiwicmVxdWlyZSIsIl9leHBvTW9kdWxlc0NvcmUiLCJfQVYiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9leHBvcnROYW1lcyIsImV4cG9ydHMiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmYXVsdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX0RFRkFVTFRfUFJPR1JFU1NfVVBEQVRFX0lOVEVSVkFMX01JTExJUyIsIl9ERUZBVUxUX0lOSVRJQUxfUExBWUJBQ0tfU1RBVFVTIiwicG9zaXRpb25NaWxsaXMiLCJwcm9ncmVzc1VwZGF0ZUludGVydmFsTWlsbGlzIiwic2hvdWxkUGxheSIsInJhdGUiLCJzaG91bGRDb3JyZWN0UGl0Y2giLCJ2b2x1bWUiLCJhdWRpb1BhbiIsImlzTXV0ZWQiLCJpc0xvb3BpbmciLCJnZXROYXRpdmVTb3VyY2VGcm9tU291cmNlIiwidXJpIiwib3ZlcnJpZGluZ0V4dGVuc2lvbiIsImhlYWRlcnMiLCJQbGF0Zm9ybSIsIk9TIiwiYXNzZXQiLCJfZ2V0QXNzZXRGcm9tUGxheWJhY2tTb3VyY2UiLCJsb2NhbFVyaSIsIm92ZXJyaWRlRmlsZUV4dGVuc2lvbkFuZHJvaWQiLCJBc3NldCIsImZyb21Nb2R1bGUiLCJhc3NlcnRTdGF0dXNWYWx1ZXNJbkJvdW5kcyIsInN0YXR1cyIsIlJhbmdlRXJyb3IiLCJnZXROYXRpdmVTb3VyY2VBbmRGdWxsSW5pdGlhbFN0YXR1c0ZvckxvYWRBc3luYyIsIl94IiwiX3gyIiwiX3gzIiwiX2dldE5hdGl2ZVNvdXJjZUFuZEZ1bGxJbml0aWFsU3RhdHVzRm9yTG9hZEFzeW5jIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiaW5pdGlhbFN0YXR1cyIsImRvd25sb2FkRmlyc3QiLCJmdWxsSW5pdGlhbFN0YXR1cyIsIm5hdGl2ZVNvdXJjZSIsImRvd25sb2FkQXN5bmMiLCJFcnJvciIsImdldFVubG9hZGVkU3RhdHVzIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJpc0xvYWRlZCIsIlBsYXliYWNrTWl4aW4iLCJwbGF5QXN5bmMiLCJfcGxheUFzeW5jIiwic2V0U3RhdHVzQXN5bmMiLCJwbGF5RnJvbVBvc2l0aW9uQXN5bmMiLCJfcGxheUZyb21Qb3NpdGlvbkFzeW5jIiwidG9sZXJhbmNlcyIsInNlZWtNaWxsaXNUb2xlcmFuY2VBZnRlciIsInRvbGVyYW5jZU1pbGxpc0FmdGVyIiwic2Vla01pbGxpc1RvbGVyYW5jZUJlZm9yZSIsInRvbGVyYW5jZU1pbGxpc0JlZm9yZSIsIl94NCIsInBhdXNlQXN5bmMiLCJfcGF1c2VBc3luYyIsInN0b3BBc3luYyIsIl9zdG9wQXN5bmMiLCJzZXRQb3NpdGlvbkFzeW5jIiwiX3NldFBvc2l0aW9uQXN5bmMiLCJfeDUiLCJzZXRSYXRlQXN5bmMiLCJfc2V0UmF0ZUFzeW5jIiwicGl0Y2hDb3JyZWN0aW9uUXVhbGl0eSIsIlBpdGNoQ29ycmVjdGlvblF1YWxpdHkiLCJMb3ciLCJfeDYiLCJzZXRWb2x1bWVBc3luYyIsIl9zZXRWb2x1bWVBc3luYyIsIl94NyIsIl94OCIsInNldElzTXV0ZWRBc3luYyIsIl9zZXRJc011dGVkQXN5bmMiLCJfeDkiLCJzZXRJc0xvb3BpbmdBc3luYyIsIl9zZXRJc0xvb3BpbmdBc3luYyIsIl94MTAiLCJzZXRQcm9ncmVzc1VwZGF0ZUludGVydmFsQXN5bmMiLCJfc2V0UHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbEFzeW5jIiwiX3gxMSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9BVi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3NldCB9IGZyb20gJ2V4cG8tYXNzZXQnO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICdleHBvLW1vZHVsZXMtY29yZSc7XG5cbmltcG9ydCB7XG4gIEFWUGxheWJhY2tTb3VyY2UsXG4gIEFWUGxheWJhY2tOYXRpdmVTb3VyY2UsXG4gIEFWUGxheWJhY2tTdGF0dXMsXG4gIEFWUGxheWJhY2tTdGF0dXNUb1NldCxcbiAgUGl0Y2hDb3JyZWN0aW9uUXVhbGl0eSxcbiAgQVZQbGF5YmFja1RvbGVyYW5jZSxcbn0gZnJvbSAnLi9BVi50eXBlcyc7XG5cbi8vIFRPRE8gYWRkOlxuLy8gIGRpc2FibGVGb2N1c09uQW5kcm9pZFxuLy8gIGF1ZGlvIHJvdXRlcyAoYXQgbGVhc3QgZGlkIGJlY29tZSBub2lzeSBvbiBhbmRyb2lkKVxuLy8gIHBhblxuLy8gIHBpdGNoXG4vLyAgQVBJIHRvIGV4cGxpY2l0bHkgcmVxdWVzdCBhdWRpbyBmb2N1cyAvIHNlc3Npb25cbi8vICBBUEkgdG8gc2VsZWN0IHN0cmVhbSB0eXBlIG9uIEFuZHJvaWRcbi8vICBzdWJ0aXRsZXMgQVBJXG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgX0RFRkFVTFRfUFJPR1JFU1NfVVBEQVRFX0lOVEVSVkFMX01JTExJUzogbnVtYmVyID0gNTAwO1xuXG4vLyBAbmVlZHNBdWRpdFxuLyoqXG4gKiBUaGUgZGVmYXVsdCBpbml0aWFsIGBBVlBsYXliYWNrU3RhdHVzVG9TZXRgIG9mIGFsbCBgQXVkaW8uU291bmRgIG9iamVjdHMgYW5kIGBWaWRlb2AgY29tcG9uZW50cyBpcyBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHtcbiAqICAgcHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbE1pbGxpczogNTAwLFxuICogICBwb3NpdGlvbk1pbGxpczogMCxcbiAqICAgc2hvdWxkUGxheTogZmFsc2UsXG4gKiAgIHJhdGU6IDEuMCxcbiAqICAgc2hvdWxkQ29ycmVjdFBpdGNoOiBmYWxzZSxcbiAqICAgdm9sdW1lOiAxLjAsXG4gKiAgIGlzTXV0ZWQ6IGZhbHNlLFxuICogICBpc0xvb3Bpbmc6IGZhbHNlLFxuICogfVxuICogYGBgXG4gKlxuICogVGhpcyBkZWZhdWx0IGluaXRpYWwgc3RhdHVzIGNhbiBiZSBvdmVyd3JpdHRlbiBieSBzZXR0aW5nIHRoZSBvcHRpb25hbCBgaW5pdGlhbFN0YXR1c2AgaW4gYGxvYWRBc3luYygpYCBvciBgQXVkaW8uU291bmQuY3JlYXRlQXN5bmMoKWAuXG4gKi9cbmV4cG9ydCBjb25zdCBfREVGQVVMVF9JTklUSUFMX1BMQVlCQUNLX1NUQVRVUzogQVZQbGF5YmFja1N0YXR1c1RvU2V0ID0ge1xuICBwb3NpdGlvbk1pbGxpczogMCxcbiAgcHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbE1pbGxpczogX0RFRkFVTFRfUFJPR1JFU1NfVVBEQVRFX0lOVEVSVkFMX01JTExJUyxcbiAgc2hvdWxkUGxheTogZmFsc2UsXG4gIHJhdGU6IDEuMCxcbiAgc2hvdWxkQ29ycmVjdFBpdGNoOiBmYWxzZSxcbiAgdm9sdW1lOiAxLjAsXG4gIGF1ZGlvUGFuOiAwLFxuICBpc011dGVkOiBmYWxzZSxcbiAgaXNMb29waW5nOiBmYWxzZSxcbn07XG5cbi8vIEBuZWVkc0F1ZGl0XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5hdGl2ZVNvdXJjZUZyb21Tb3VyY2UoXG4gIHNvdXJjZT86IEFWUGxheWJhY2tTb3VyY2UgfCBudWxsXG4pOiBBVlBsYXliYWNrTmF0aXZlU291cmNlIHwgbnVsbCB7XG4gIGxldCB1cmk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgb3ZlcnJpZGluZ0V4dGVuc2lvbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGxldCBoZWFkZXJzOiBBVlBsYXliYWNrTmF0aXZlU291cmNlWydoZWFkZXJzJ107XG5cbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIFBsYXRmb3JtLk9TID09PSAnd2ViJykge1xuICAgIHJldHVybiB7XG4gICAgICB1cmk6IHNvdXJjZSxcbiAgICAgIG92ZXJyaWRpbmdFeHRlbnNpb24sXG4gICAgICBoZWFkZXJzLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBhc3NldDogQXNzZXQgfCBudWxsID0gX2dldEFzc2V0RnJvbVBsYXliYWNrU291cmNlKHNvdXJjZSk7XG4gIGlmIChhc3NldCAhPSBudWxsKSB7XG4gICAgdXJpID0gYXNzZXQubG9jYWxVcmkgfHwgYXNzZXQudXJpO1xuICB9IGVsc2UgaWYgKFxuICAgIHNvdXJjZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHNvdXJjZSAhPT0gJ251bWJlcicgJiZcbiAgICAndXJpJyBpbiBzb3VyY2UgJiZcbiAgICB0eXBlb2Ygc291cmNlLnVyaSA9PT0gJ3N0cmluZydcbiAgKSB7XG4gICAgdXJpID0gc291cmNlLnVyaTtcbiAgfVxuXG4gIGlmICh1cmkgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKFxuICAgIHNvdXJjZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHNvdXJjZSAhPT0gJ251bWJlcicgJiZcbiAgICAnb3ZlcnJpZGVGaWxlRXh0ZW5zaW9uQW5kcm9pZCcgaW4gc291cmNlICYmXG4gICAgdHlwZW9mIHNvdXJjZS5vdmVycmlkZUZpbGVFeHRlbnNpb25BbmRyb2lkID09PSAnc3RyaW5nJ1xuICApIHtcbiAgICBvdmVycmlkaW5nRXh0ZW5zaW9uID0gc291cmNlLm92ZXJyaWRlRmlsZUV4dGVuc2lvbkFuZHJvaWQ7XG4gIH1cblxuICBpZiAoXG4gICAgc291cmNlICE9IG51bGwgJiZcbiAgICB0eXBlb2Ygc291cmNlICE9PSAnbnVtYmVyJyAmJlxuICAgICdoZWFkZXJzJyBpbiBzb3VyY2UgJiZcbiAgICB0eXBlb2Ygc291cmNlLmhlYWRlcnMgPT09ICdvYmplY3QnXG4gICkge1xuICAgIGhlYWRlcnMgPSBzb3VyY2UuaGVhZGVycztcbiAgfVxuICByZXR1cm4geyB1cmksIG92ZXJyaWRpbmdFeHRlbnNpb24sIGhlYWRlcnMgfTtcbn1cblxuZnVuY3Rpb24gX2dldEFzc2V0RnJvbVBsYXliYWNrU291cmNlKHNvdXJjZT86IEFWUGxheWJhY2tTb3VyY2UgfCBudWxsKTogQXNzZXQgfCBudWxsIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgYXNzZXQ6IEFzc2V0IHwgbnVsbCA9IG51bGw7XG4gIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xuICAgIGFzc2V0ID0gQXNzZXQuZnJvbU1vZHVsZShzb3VyY2UpO1xuICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFzc2V0KSB7XG4gICAgYXNzZXQgPSBzb3VyY2U7XG4gIH1cbiAgcmV0dXJuIGFzc2V0O1xufVxuXG4vLyBAbmVlZHNBdWRpdFxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTdGF0dXNWYWx1ZXNJbkJvdW5kcyhzdGF0dXM6IEFWUGxheWJhY2tTdGF0dXNUb1NldCk6IHZvaWQge1xuICBpZiAodHlwZW9mIHN0YXR1cy5yYXRlID09PSAnbnVtYmVyJyAmJiAoc3RhdHVzLnJhdGUgPCAwIHx8IHN0YXR1cy5yYXRlID4gMzIpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1JhdGUgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAuMCBhbmQgMzIuMCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3RhdHVzLnZvbHVtZSA9PT0gJ251bWJlcicgJiYgKHN0YXR1cy52b2x1bWUgPCAwIHx8IHN0YXR1cy52b2x1bWUgPiAxKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdWb2x1bWUgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAuMCBhbmQgMS4wJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzdGF0dXMuYXVkaW9QYW4gPT09ICdudW1iZXInICYmIChzdGF0dXMuYXVkaW9QYW4gPCAtMSB8fCBzdGF0dXMuYXVkaW9QYW4gPiAxKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdQYW4gdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIC0xLjAgYW5kIDEuMCcpO1xuICB9XG59XG5cbi8vIEBuZWVkc0F1ZGl0XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE5hdGl2ZVNvdXJjZUFuZEZ1bGxJbml0aWFsU3RhdHVzRm9yTG9hZEFzeW5jKFxuICBzb3VyY2U6IEFWUGxheWJhY2tTb3VyY2UgfCBudWxsLFxuICBpbml0aWFsU3RhdHVzOiBBVlBsYXliYWNrU3RhdHVzVG9TZXQgfCBudWxsLFxuICBkb3dubG9hZEZpcnN0OiBib29sZWFuXG4pOiBQcm9taXNlPHtcbiAgbmF0aXZlU291cmNlOiBBVlBsYXliYWNrTmF0aXZlU291cmNlO1xuICBmdWxsSW5pdGlhbFN0YXR1czogQVZQbGF5YmFja1N0YXR1c1RvU2V0O1xufT4ge1xuICAvLyBHZXQgdGhlIGZ1bGwgaW5pdGlhbCBzdGF0dXNcbiAgY29uc3QgZnVsbEluaXRpYWxTdGF0dXM6IEFWUGxheWJhY2tTdGF0dXNUb1NldCA9XG4gICAgaW5pdGlhbFN0YXR1cyA9PSBudWxsXG4gICAgICA/IF9ERUZBVUxUX0lOSVRJQUxfUExBWUJBQ0tfU1RBVFVTXG4gICAgICA6IHtcbiAgICAgICAgICAuLi5fREVGQVVMVF9JTklUSUFMX1BMQVlCQUNLX1NUQVRVUyxcbiAgICAgICAgICAuLi5pbml0aWFsU3RhdHVzLFxuICAgICAgICB9O1xuICBhc3NlcnRTdGF0dXNWYWx1ZXNJbkJvdW5kcyhmdWxsSW5pdGlhbFN0YXR1cyk7XG5cbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIFBsYXRmb3JtLk9TID09PSAnd2ViJykge1xuICAgIHJldHVybiB7XG4gICAgICBuYXRpdmVTb3VyY2U6IHtcbiAgICAgICAgdXJpOiBzb3VyY2UsXG4gICAgICAgIG92ZXJyaWRpbmdFeHRlbnNpb246IG51bGwsXG4gICAgICB9LFxuICAgICAgZnVsbEluaXRpYWxTdGF0dXMsXG4gICAgfTtcbiAgfVxuXG4gIC8vIERvd25sb2FkIGZpcnN0IGlmIG5lY2Vzc2FyeS5cbiAgY29uc3QgYXNzZXQgPSBfZ2V0QXNzZXRGcm9tUGxheWJhY2tTb3VyY2Uoc291cmNlKTtcbiAgaWYgKGRvd25sb2FkRmlyc3QgJiYgYXNzZXQpIHtcbiAgICAvLyBUT0RPIHdlIGNhbiBkb3dubG9hZCByZW1vdGUgdXJpIHRvbyBvbmNlIEBuaWtraTkzIGhhcyBpbnRlZ3JhdGVkIHRoaXMgaW50byBBc3NldFxuICAgIGF3YWl0IGFzc2V0LmRvd25sb2FkQXN5bmMoKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgbmF0aXZlIHNvdXJjZVxuICBjb25zdCBuYXRpdmVTb3VyY2U6IEFWUGxheWJhY2tOYXRpdmVTb3VyY2UgfCBudWxsID0gZ2V0TmF0aXZlU291cmNlRnJvbVNvdXJjZShzb3VyY2UpO1xuXG4gIGlmIChuYXRpdmVTb3VyY2UgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkIGFuIEFWIGFzc2V0IGZyb20gYSBudWxsIHBsYXliYWNrIHNvdXJjZWApO1xuICB9XG5cbiAgLy8gSWYgYXNzZXQgaGFzIGJlZW4gZG93bmxvYWRlZCB1c2UgdGhlIGxvY2FsVXJpXG4gIGlmIChhc3NldCAmJiBhc3NldC5sb2NhbFVyaSkge1xuICAgIG5hdGl2ZVNvdXJjZS51cmkgPSBhc3NldC5sb2NhbFVyaTtcbiAgfVxuXG4gIHJldHVybiB7IG5hdGl2ZVNvdXJjZSwgZnVsbEluaXRpYWxTdGF0dXMgfTtcbn1cblxuLy8gQG5lZWRzQXVkaXRcbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5sb2FkZWRTdGF0dXMoZXJyb3I6IHN0cmluZyB8IG51bGwgPSBudWxsKTogQVZQbGF5YmFja1N0YXR1cyB7XG4gIHJldHVybiB7XG4gICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgIC4uLihlcnJvciA/IHsgZXJyb3IgfSA6IG51bGwpLFxuICB9O1xufVxuXG4vLyBAbmVlZHNBdWRpdFxuZXhwb3J0IGludGVyZmFjZSBBViB7XG4gIC8qKlxuICAgKiBTZXRzIGEgbmV3IGBBVlBsYXliYWNrU3RhdHVzVG9TZXRgIG9uIHRoZSBgcGxheWJhY2tPYmplY3RgLiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSBjYWxsZWQgaWYgdGhlIG1lZGlhIGhhcyBiZWVuIGxvYWRlZC5cbiAgICogQHBhcmFtIHN0YXR1cyBUaGUgbmV3IGBBVlBsYXliYWNrU3RhdHVzVG9TZXRgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgLCB3aG9zZSB2YWx1ZXMgd2lsbCBvdmVycmlkZSB0aGUgY3VycmVudCBwbGF5YmFjayBzdGF0dXMuXG4gICAqIEByZXR1cm4gQSBgUHJvbWlzZWAgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgYEFWUGxheWJhY2tTdGF0dXNgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgIG9uY2UgdGhlIG5ldyBzdGF0dXMgaGFzIGJlZW4gc2V0IHN1Y2Nlc3NmdWxseSxcbiAgICogb3IgcmVqZWN0cyBpZiBzZXR0aW5nIHRoZSBuZXcgc3RhdHVzIGZhaWxlZC4gU2VlIGJlbG93IGZvciBkZXRhaWxzIG9uIGBBVlBsYXliYWNrU3RhdHVzYC5cbiAgICovXG4gIHNldFN0YXR1c0FzeW5jKHN0YXR1czogQVZQbGF5YmFja1N0YXR1c1RvU2V0KTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgYEFWUGxheWJhY2tTdGF0dXNgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgLlxuICAgKiBAcmV0dXJuIEEgYFByb21pc2VgIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIGBBVlBsYXliYWNrU3RhdHVzYCBvZiB0aGUgYHBsYXliYWNrT2JqZWN0YC5cbiAgICovXG4gIGdldFN0YXR1c0FzeW5jKCk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz47XG59XG5cbi8vIEBuZWVkc0F1ZGl0XG4vKipcbiAqIE9uIHRoZSBgcGxheWJhY2tPYmplY3RgIHJlZmVyZW5jZSwgdGhlIGZvbGxvd2luZyBBUEkgaXMgcHJvdmlkZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWJhY2sgZXh0ZW5kcyBBViB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYHBsYXliYWNrT2JqZWN0LnNldFN0YXR1c0FzeW5jKHsgc2hvdWxkUGxheTogdHJ1ZSB9KWAuXG4gICAqXG4gICAqIFBsYXliYWNrIG1heSBub3Qgc3RhcnQgaW1tZWRpYXRlbHkgYWZ0ZXIgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIGZvciByZWFzb25zIHN1Y2ggYXMgYnVmZmVyaW5nLiBNYWtlIHN1cmUgdG8gdXBkYXRlIHlvdXIgVUkgYmFzZWRcbiAgICogb24gdGhlIGBpc1BsYXlpbmdgIGFuZCBgaXNCdWZmZXJpbmdgIHByb3BlcnRpZXMgb2YgdGhlIGBBVlBsYXliYWNrU3RhdHVzYC5cbiAgICovXG4gIHBsYXlBc3luYygpOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgbWVkaWEgZnJvbSBgc291cmNlYCBpbnRvIG1lbW9yeSBhbmQgcHJlcGFyZXMgaXQgZm9yIHBsYXlpbmcuIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYHNldFN0YXR1c0FzeW5jKClgXG4gICAqIG9yIGFueSBvZiB0aGUgY29udmVuaWVuY2Ugc2V0IHN0YXR1cyBtZXRob2RzLiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSBjYWxsZWQgaWYgdGhlIGBwbGF5YmFja09iamVjdGAgaXMgaW4gYW4gdW5sb2FkZWQgc3RhdGUuXG4gICAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvZiB0aGUgbWVkaWEuXG4gICAqIEBwYXJhbSBpbml0aWFsU3RhdHVzIFRoZSBpbml0aWFsIGludGVuZGVkIGBBVlBsYXliYWNrU3RhdHVzVG9TZXRgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgLCB3aG9zZSB2YWx1ZXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbml0aWFsIHBsYXliYWNrIHN0YXR1cy5cbiAgICogVGhpcyB2YWx1ZSBkZWZhdWx0cyB0byBge31gIGlmIG5vIHBhcmFtZXRlciBpcyBwYXNzZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB0aGUgZGV0YWlscyBvbiBgQVZQbGF5YmFja1N0YXR1c1RvU2V0YCB0eXBlXG4gICAqIGFuZCB0aGUgZGVmYXVsdCBpbml0aWFsIHBsYXliYWNrIHN0YXR1cy5cbiAgICogQHBhcmFtIGRvd25sb2FkQXN5bmMgSWYgc2V0IHRvIGB0cnVlYCwgdGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gZG93bmxvYWQgdGhlIHJlc291cmNlIHRvIHRoZSBkZXZpY2UgYmVmb3JlIGxvYWRpbmcuXG4gICAqIFRoaXMgdmFsdWUgZGVmYXVsdHMgdG8gYHRydWVgLiBOb3RlIHRoYXQgYXQgdGhlIG1vbWVudCwgdGhpcyB3aWxsIG9ubHkgd29yayBmb3IgYHNvdXJjZWBzIG9mIHRoZSBmb3JtIGByZXF1aXJlKCdwYXRoL3RvL2ZpbGUnKWAgb3IgYEFzc2V0YCBvYmplY3RzLlxuICAgKiBAcmV0dXJuIEEgYFByb21pc2VgIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIGBBVlBsYXliYWNrU3RhdHVzYCBvZiB0aGUgYHBsYXliYWNrT2JqZWN0YCBvbmNlIGl0IGlzIGxvYWRlZCwgb3IgcmVqZWN0cyBpZiBsb2FkaW5nIGZhaWxlZC5cbiAgICogVGhlIGBQcm9taXNlYCB3aWxsIGFsc28gcmVqZWN0IGlmIHRoZSBgcGxheWJhY2tPYmplY3RgIHdhcyBhbHJlYWR5IGxvYWRlZC4gU2VlIGJlbG93IGZvciBkZXRhaWxzIG9uIGBBVlBsYXliYWNrU3RhdHVzYC5cbiAgICovXG4gIGxvYWRBc3luYyhcbiAgICBzb3VyY2U6IEFWUGxheWJhY2tTb3VyY2UsXG4gICAgaW5pdGlhbFN0YXR1cz86IEFWUGxheWJhY2tTdGF0dXNUb1NldCxcbiAgICBkb3dubG9hZEFzeW5jPzogYm9vbGVhblxuICApOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xuXG4gIC8qKlxuICAgKiBVbmxvYWRzIHRoZSBtZWRpYSBmcm9tIG1lbW9yeS4gYGxvYWRBc3luYygpYCBtdXN0IGJlIGNhbGxlZCBhZ2FpbiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHBsYXkgdGhlIG1lZGlhLlxuICAgKiA+IFRoaXMgY2xlYW51cCBmdW5jdGlvbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGluIHRoZSBgVmlkZW9gIGNvbXBvbmVudCdzIGBjb21wb25lbnRXaWxsVW5tb3VudGAuXG4gICAqIEByZXR1cm4gQSBgUHJvbWlzZWAgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgYEFWUGxheWJhY2tTdGF0dXNgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgIG9uY2UgaXQgaXMgdW5sb2FkZWQsIG9yIHJlamVjdHMgaWYgdW5sb2FkaW5nIGZhaWxlZC5cbiAgICovXG4gIHVubG9hZEFzeW5jKCk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz47XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgcGxheWJhY2tPYmplY3Quc2V0U3RhdHVzQXN5bmMoeyBzaG91bGRQbGF5OiB0cnVlLCBwb3NpdGlvbk1pbGxpcywgc2Vla01pbGxpc1RvbGVyYW5jZUFmdGVyOiB0b2xlcmFuY2VzLnNlZWtNaWxsaXNUb2xlcmFuY2VBZnRlciwgc2Vla01pbGxpc1RvbGVyYW5jZUJlZm9yZTogdG9sZXJhbmNlcy5zZWVrTWlsbGlzVG9sZXJhbmNlQmVmb3JlIH0pYC5cbiAgICpcbiAgICogUGxheWJhY2sgbWF5IG5vdCBzdGFydCBpbW1lZGlhdGVseSBhZnRlciBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gZm9yIHJlYXNvbnMgc3VjaCBhcyBidWZmZXJpbmcuIE1ha2Ugc3VyZSB0byB1cGRhdGUgeW91ciBVSSBiYXNlZFxuICAgKiBvbiB0aGUgYGlzUGxheWluZ2AgYW5kIGBpc0J1ZmZlcmluZ2AgcHJvcGVydGllcyBvZiB0aGUgYEFWUGxheWJhY2tTdGF0dXNgLlxuICAgKiBAcGFyYW0gcG9zaXRpb25NaWxsaXMgVGhlIGRlc2lyZWQgcG9zaXRpb24gb2YgcGxheWJhY2sgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0gdG9sZXJhbmNlcyBUaGUgdG9sZXJhbmNlcyBhcmUgdXNlZCBvbmx5IG9uIGlPUyAoW21vcmUgZGV0YWlsc10oI3doYXQtaXMtc2Vlay10b2xlcmFuY2UtYW5kLXdoeS13b3VsZCkpLlxuICAgKi9cbiAgcGxheUZyb21Qb3NpdGlvbkFzeW5jKFxuICAgIHBvc2l0aW9uTWlsbGlzOiBudW1iZXIsXG4gICAgdG9sZXJhbmNlcz86IEFWUGxheWJhY2tUb2xlcmFuY2VcbiAgKTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPjtcblxuICAvKipcbiAgICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIGBwbGF5YmFja09iamVjdC5zZXRTdGF0dXNBc3luYyh7IHNob3VsZFBsYXk6IGZhbHNlIH0pYC5cbiAgICovXG4gIHBhdXNlQXN5bmMoKTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPjtcblxuICAvKipcbiAgICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIGBwbGF5YmFja09iamVjdC5zZXRTdGF0dXNBc3luYyh7IHNob3VsZFBsYXk6IGZhbHNlLCBwb3NpdGlvbk1pbGxpczogMCB9KWAuXG4gICAqL1xuICBzdG9wQXN5bmMoKTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPjtcblxuICAvKipcbiAgICogUmVwbGF5cyB0aGUgcGxheWJhY2sgaXRlbS4gV2hlbiB1c2luZyBgcGxheUZyb21Qb3NpdGlvbkFzeW5jKDApYCB0aGUgaXRlbSBpcyBzZWVrZWQgdG8gdGhlIHBvc2l0aW9uIGF0IGAwIG1zYC5cbiAgICogT24gaU9TIHRoaXMgbWV0aG9kIHVzZXMgaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIHBsYXllciBhbmQgaXMgYWJsZSB0byBwbGF5IHRoZSBpdGVtIGZyb20gdGhlIGJlZ2lubmluZyBpbW1lZGlhdGVseS5cbiAgICogQHBhcmFtIHN0YXR1cyBUaGUgbmV3IGBBVlBsYXliYWNrU3RhdHVzVG9TZXRgIG9mIHRoZSBgcGxheWJhY2tPYmplY3RgLCB3aG9zZSB2YWx1ZXMgd2lsbCBvdmVycmlkZSB0aGUgY3VycmVudCBwbGF5YmFjayBzdGF0dXMuXG4gICAqIGBwb3NpdGlvbk1pbGxpc2AgYW5kIGBzaG91bGRQbGF5YCBwcm9wZXJ0aWVzIHdpbGwgYmUgb3ZlcnJpZGRlbiB3aXRoIHJlc3BlY3RpdmVseSBgMGAgYW5kIGB0cnVlYC5cbiAgICogQHJldHVybiBBIGBQcm9taXNlYCB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSBgQVZQbGF5YmFja1N0YXR1c2Agb2YgdGhlIGBwbGF5YmFja09iamVjdGAgb25jZSB0aGUgbmV3IHN0YXR1cyBoYXMgYmVlbiBzZXQgc3VjY2Vzc2Z1bGx5LFxuICAgKiBvciByZWplY3RzIGlmIHNldHRpbmcgdGhlIG5ldyBzdGF0dXMgZmFpbGVkLlxuICAgKi9cbiAgcmVwbGF5QXN5bmMoc3RhdHVzOiBBVlBsYXliYWNrU3RhdHVzVG9TZXQpOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYHBsYXliYWNrT2JqZWN0LnNldFN0YXR1c0FzeW5jKHsgcG9zaXRpb25NaWxsaXMgfSlgLlxuICAgKiBAcGFyYW0gcG9zaXRpb25NaWxsaXMgVGhlIGRlc2lyZWQgcG9zaXRpb24gb2YgcGxheWJhY2sgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0gdG9sZXJhbmNlcyBUaGUgdG9sZXJhbmNlcyBhcmUgdXNlZCBvbmx5IG9uIGlPUyAoW21vcmUgZGV0YWlsc10oI3doYXQtaXMtc2Vlay10b2xlcmFuY2UtYW5kLXdoeS13b3VsZCkpLlxuICAgKi9cbiAgc2V0UG9zaXRpb25Bc3luYyhcbiAgICBwb3NpdGlvbk1pbGxpczogbnVtYmVyLFxuICAgIHRvbGVyYW5jZXM/OiBBVlBsYXliYWNrVG9sZXJhbmNlXG4gICk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz47XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgcGxheWJhY2tPYmplY3Quc2V0U3RhdHVzQXN5bmMoeyByYXRlLCBzaG91bGRDb3JyZWN0UGl0Y2gsIHBpdGNoQ29ycmVjdGlvblF1YWxpdHkgfSlgLlxuICAgKiBAcGFyYW0gcmF0ZSBUaGUgZGVzaXJlZCBwbGF5YmFjayByYXRlIG9mIHRoZSBtZWRpYS4gVGhpcyB2YWx1ZSBtdXN0IGJlIGJldHdlZW4gYDAuMGAgYW5kIGAzMi4wYC4gT25seSBhdmFpbGFibGUgb24gQW5kcm9pZCBBUEkgdmVyc2lvbiAyMyBhbmQgbGF0ZXIgYW5kIGlPUy5cbiAgICogQHBhcmFtIHNob3VsZENvcnJlY3RQaXRjaCBBIGJvb2xlYW4gZGVzY3JpYmluZyBpZiB3ZSBzaG91bGQgY29ycmVjdCB0aGUgcGl0Y2ggZm9yIGEgY2hhbmdlZCByYXRlLiBJZiBzZXQgdG8gYHRydWVgLCB0aGUgcGl0Y2ggb2YgdGhlIGF1ZGlvIHdpbGwgYmUgY29ycmVjdGVkXG4gICAqIChzbyBhIHJhdGUgZGlmZmVyZW50IHRoYW4gYDEuMGAgd2lsbCB0aW1lc3RyZXRjaCB0aGUgYXVkaW8pLlxuICAgKiBAcGFyYW0gcGl0Y2hDb3JyZWN0aW9uUXVhbGl0eSBpT1MgdGltZSBwaXRjaCBhbGdvcml0aG0gc2V0dGluZywgZGVmYXVsdHMgdG8gYEF1ZGlvLlBpdGNoQ29ycmVjdGlvblF1YWxpdHkuTG93YC5cbiAgICovXG4gIHNldFJhdGVBc3luYyhcbiAgICByYXRlOiBudW1iZXIsXG4gICAgc2hvdWxkQ29ycmVjdFBpdGNoOiBib29sZWFuLFxuICAgIHBpdGNoQ29ycmVjdGlvblF1YWxpdHk/OiBQaXRjaENvcnJlY3Rpb25RdWFsaXR5XG4gICk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz47XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgcGxheWJhY2tPYmplY3Quc2V0U3RhdHVzQXN5bmMoeyB2b2x1bWUsIGF1ZGlvUGFuIH0pYC5cbiAgICogTm90ZTogYGF1ZGlvUGFuYCBpcyBjdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgb24gQW5kcm9pZCB1c2luZyBgYW5kcm9pZEltcGxlbWVudGF0aW9uOiAnTWVkaWFQbGF5ZXInYFxuICAgKiBAcGFyYW0gdm9sdW1lIEEgbnVtYmVyIGJldHdlZW4gYDAuMGAgKHNpbGVuY2UpIGFuZCBgMS4wYCAobWF4aW11bSB2b2x1bWUpLlxuICAgKiBAcGFyYW0gYXVkaW9QYW4gQSBudW1iZXIgYmV0d2VlbiBgLTEuMGAgKGZ1bGwgbGVmdCkgYW5kIGAxLjBgIChmdWxsIHJpZ2h0KS5cbiAgICovXG4gIHNldFZvbHVtZUFzeW5jKHZvbHVtZTogbnVtYmVyLCBhdWRpb1Bhbj86IG51bWJlcik6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz47XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgcGxheWJhY2tPYmplY3Quc2V0U3RhdHVzQXN5bmMoeyBpc011dGVkIH0pYC5cbiAgICogQHBhcmFtIGlzTXV0ZWQgQSBib29sZWFuIGRlc2NyaWJpbmcgaWYgdGhlIGF1ZGlvIG9mIHRoaXMgbWVkaWEgc2hvdWxkIGJlIG11dGVkLlxuICAgKi9cbiAgc2V0SXNNdXRlZEFzeW5jKGlzTXV0ZWQ6IGJvb2xlYW4pOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYHBsYXliYWNrT2JqZWN0LnNldFN0YXR1c0FzeW5jKHsgaXNMb29waW5nIH0pYC5cbiAgICogQHBhcmFtIGlzTG9vcGluZyBBIGJvb2xlYW4gZGVzY3JpYmluZyBpZiB0aGUgbWVkaWEgc2hvdWxkIHBsYXkgb25jZSAoYGZhbHNlYCkgb3IgbG9vcCBpbmRlZmluaXRlbHkgKGB0cnVlYCkuXG4gICAqL1xuICBzZXRJc0xvb3BpbmdBc3luYyhpc0xvb3Bpbmc6IGJvb2xlYW4pOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYHBsYXliYWNrT2JqZWN0LnNldFN0YXR1c0FzeW5jKHsgcHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbE1pbGxpcyB9KWAuXG4gICAqIEBwYXJhbSBwcm9ncmVzc1VwZGF0ZUludGVydmFsTWlsbGlzIFRoZSBuZXcgbWluaW11bSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgYmV0d2VlbiBjYWxscyBvZiBgb25QbGF5YmFja1N0YXR1c1VwZGF0ZWAuXG4gICAqIFNlZSBgc2V0T25QbGF5YmFja1N0YXR1c1VwZGF0ZSgpYCBmb3IgZGV0YWlscy5cbiAgICovXG4gIHNldFByb2dyZXNzVXBkYXRlSW50ZXJ2YWxBc3luYyhwcm9ncmVzc1VwZGF0ZUludGVydmFsTWlsbGlzOiBudW1iZXIpOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+O1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqIEEgbWl4aW4gdGhhdCBkZWZpbmVzIGNvbW1vbiBwbGF5YmFjayBtZXRob2RzIGZvciBBL1YgY2xhc3Nlcywgc28gdGhleSBpbXBsZW1lbnQgdGhlIGBQbGF5YmFja2BcbiAqIGludGVyZmFjZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFBsYXliYWNrTWl4aW4gPSB7XG4gIGFzeW5jIHBsYXlBc3luYygpOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+IHtcbiAgICByZXR1cm4gKHRoaXMgYXMgYW55IGFzIFBsYXliYWNrKS5zZXRTdGF0dXNBc3luYyh7IHNob3VsZFBsYXk6IHRydWUgfSk7XG4gIH0sXG5cbiAgYXN5bmMgcGxheUZyb21Qb3NpdGlvbkFzeW5jKFxuICAgIHBvc2l0aW9uTWlsbGlzOiBudW1iZXIsXG4gICAgdG9sZXJhbmNlczogQVZQbGF5YmFja1RvbGVyYW5jZSA9IHt9XG4gICk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz4ge1xuICAgIHJldHVybiAodGhpcyBhcyBhbnkgYXMgUGxheWJhY2spLnNldFN0YXR1c0FzeW5jKHtcbiAgICAgIHBvc2l0aW9uTWlsbGlzLFxuICAgICAgc2hvdWxkUGxheTogdHJ1ZSxcbiAgICAgIHNlZWtNaWxsaXNUb2xlcmFuY2VBZnRlcjogdG9sZXJhbmNlcy50b2xlcmFuY2VNaWxsaXNBZnRlcixcbiAgICAgIHNlZWtNaWxsaXNUb2xlcmFuY2VCZWZvcmU6IHRvbGVyYW5jZXMudG9sZXJhbmNlTWlsbGlzQmVmb3JlLFxuICAgIH0pO1xuICB9LFxuXG4gIGFzeW5jIHBhdXNlQXN5bmMoKTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPiB7XG4gICAgcmV0dXJuICh0aGlzIGFzIGFueSBhcyBQbGF5YmFjaykuc2V0U3RhdHVzQXN5bmMoeyBzaG91bGRQbGF5OiBmYWxzZSB9KTtcbiAgfSxcblxuICBhc3luYyBzdG9wQXN5bmMoKTogUHJvbWlzZTxBVlBsYXliYWNrU3RhdHVzPiB7XG4gICAgcmV0dXJuICh0aGlzIGFzIGFueSBhcyBQbGF5YmFjaykuc2V0U3RhdHVzQXN5bmMoeyBwb3NpdGlvbk1pbGxpczogMCwgc2hvdWxkUGxheTogZmFsc2UgfSk7XG4gIH0sXG5cbiAgYXN5bmMgc2V0UG9zaXRpb25Bc3luYyhcbiAgICBwb3NpdGlvbk1pbGxpczogbnVtYmVyLFxuICAgIHRvbGVyYW5jZXM6IEFWUGxheWJhY2tUb2xlcmFuY2UgPSB7fVxuICApOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+IHtcbiAgICByZXR1cm4gKHRoaXMgYXMgYW55IGFzIFBsYXliYWNrKS5zZXRTdGF0dXNBc3luYyh7XG4gICAgICBwb3NpdGlvbk1pbGxpcyxcbiAgICAgIHNlZWtNaWxsaXNUb2xlcmFuY2VBZnRlcjogdG9sZXJhbmNlcy50b2xlcmFuY2VNaWxsaXNBZnRlcixcbiAgICAgIHNlZWtNaWxsaXNUb2xlcmFuY2VCZWZvcmU6IHRvbGVyYW5jZXMudG9sZXJhbmNlTWlsbGlzQmVmb3JlLFxuICAgIH0pO1xuICB9LFxuXG4gIGFzeW5jIHNldFJhdGVBc3luYyhcbiAgICByYXRlOiBudW1iZXIsXG4gICAgc2hvdWxkQ29ycmVjdFBpdGNoOiBib29sZWFuID0gZmFsc2UsXG4gICAgcGl0Y2hDb3JyZWN0aW9uUXVhbGl0eTogUGl0Y2hDb3JyZWN0aW9uUXVhbGl0eSA9IFBpdGNoQ29ycmVjdGlvblF1YWxpdHkuTG93XG4gICk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz4ge1xuICAgIHJldHVybiAodGhpcyBhcyBhbnkgYXMgUGxheWJhY2spLnNldFN0YXR1c0FzeW5jKHtcbiAgICAgIHJhdGUsXG4gICAgICBzaG91bGRDb3JyZWN0UGl0Y2gsXG4gICAgICBwaXRjaENvcnJlY3Rpb25RdWFsaXR5LFxuICAgIH0pO1xuICB9LFxuXG4gIGFzeW5jIHNldFZvbHVtZUFzeW5jKHZvbHVtZTogbnVtYmVyLCBhdWRpb1Bhbj86IG51bWJlcik6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz4ge1xuICAgIHJldHVybiAodGhpcyBhcyBhbnkgYXMgUGxheWJhY2spLnNldFN0YXR1c0FzeW5jKHsgdm9sdW1lLCBhdWRpb1BhbiB9KTtcbiAgfSxcblxuICBhc3luYyBzZXRJc011dGVkQXN5bmMoaXNNdXRlZDogYm9vbGVhbik6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz4ge1xuICAgIHJldHVybiAodGhpcyBhcyBhbnkgYXMgUGxheWJhY2spLnNldFN0YXR1c0FzeW5jKHsgaXNNdXRlZCB9KTtcbiAgfSxcblxuICBhc3luYyBzZXRJc0xvb3BpbmdBc3luYyhpc0xvb3Bpbmc6IGJvb2xlYW4pOiBQcm9taXNlPEFWUGxheWJhY2tTdGF0dXM+IHtcbiAgICByZXR1cm4gKHRoaXMgYXMgYW55IGFzIFBsYXliYWNrKS5zZXRTdGF0dXNBc3luYyh7IGlzTG9vcGluZyB9KTtcbiAgfSxcblxuICBhc3luYyBzZXRQcm9ncmVzc1VwZGF0ZUludGVydmFsQXN5bmMoXG4gICAgcHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbE1pbGxpczogbnVtYmVyXG4gICk6IFByb21pc2U8QVZQbGF5YmFja1N0YXR1cz4ge1xuICAgIHJldHVybiAodGhpcyBhcyBhbnkgYXMgUGxheWJhY2spLnNldFN0YXR1c0FzeW5jKHsgcHJvZ3Jlc3NVcGRhdGVJbnRlcnZhbE1pbGxpcyB9KTtcbiAgfSxcbn07XG5cbmV4cG9ydCAqIGZyb20gJy4vQVYudHlwZXMnO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGdCQUFBLEdBQUFELE9BQUE7QUFFQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUErWkFHLE1BQUEsQ0FBQUMsSUFBQSxDQUFBRixHQUFBLEVBQUFHLE9BQUEsV0FBQUMsR0FBQTtFQUFBLElBQUFBLEdBQUEsa0JBQUFBLEdBQUE7RUFBQSxJQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFDLFlBQUEsRUFBQUosR0FBQTtFQUFBLElBQUFBLEdBQUEsSUFBQUssT0FBQSxJQUFBQSxPQUFBLENBQUFMLEdBQUEsTUFBQUosR0FBQSxDQUFBSSxHQUFBO0VBQUFILE1BQUEsQ0FBQVMsY0FBQSxDQUFBRCxPQUFBLEVBQUFMLEdBQUE7SUFBQU8sVUFBQTtJQUFBQyxHQUFBLFdBQUFBLElBQUE7TUFBQSxPQUFBWixHQUFBLENBQUFJLEdBQUE7SUFBQTtFQUFBO0FBQUE7QUFBMkIsU0FBQVMsUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFiLElBQUEsR0FBQUQsTUFBQSxDQUFBQyxJQUFBLENBQUFZLE1BQUEsT0FBQWIsTUFBQSxDQUFBZSxxQkFBQSxRQUFBQyxPQUFBLEdBQUFoQixNQUFBLENBQUFlLHFCQUFBLENBQUFGLE1BQUEsR0FBQUMsY0FBQSxLQUFBRSxPQUFBLEdBQUFBLE9BQUEsQ0FBQUMsTUFBQSxXQUFBQyxHQUFBLFdBQUFsQixNQUFBLENBQUFtQix3QkFBQSxDQUFBTixNQUFBLEVBQUFLLEdBQUEsRUFBQVIsVUFBQSxPQUFBVCxJQUFBLENBQUFtQixJQUFBLENBQUFDLEtBQUEsQ0FBQXBCLElB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