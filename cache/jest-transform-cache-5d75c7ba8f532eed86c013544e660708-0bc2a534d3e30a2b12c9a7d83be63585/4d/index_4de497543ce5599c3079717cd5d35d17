3c871b8ec5f1a714d1418de634d96d5f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _wrapNativeSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var base64Decode = require('fast-base64-decode');
var _require = require('react-native'),
  NativeModules = _require.NativeModules;
var TypeMismatchError = function (_Error) {
  (0, _inherits2.default)(TypeMismatchError, _Error);
  var _super = _createSuper(TypeMismatchError);
  function TypeMismatchError() {
    (0, _classCallCheck2.default)(this, TypeMismatchError);
    return _super.apply(this, arguments);
  }
  return (0, _createClass2.default)(TypeMismatchError);
}((0, _wrapNativeSuper2.default)(Error));
var QuotaExceededError = function (_Error2) {
  (0, _inherits2.default)(QuotaExceededError, _Error2);
  var _super2 = _createSuper(QuotaExceededError);
  function QuotaExceededError() {
    (0, _classCallCheck2.default)(this, QuotaExceededError);
    return _super2.apply(this, arguments);
  }
  return (0, _createClass2.default)(QuotaExceededError);
}((0, _wrapNativeSuper2.default)(Error));
var warned = false;
function insecureRandomValues(array) {
  if (!warned) {
    console.warn('Using an insecure random number generator, this should only happen when running in a debugger without support for crypto.getRandomValues');
    warned = true;
  }
  for (var i = 0, r; i < array.length; i++) {
    if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
    array[i] = r >>> ((i & 0x03) << 3) & 0xff;
  }
  return array;
}
function getRandomBase64(byteLength) {
  if (NativeModules.RNGetRandomValues) {
    return NativeModules.RNGetRandomValues.getRandomBase64(byteLength);
  } else if (NativeModules.ExpoRandom) {
    return NativeModules.ExpoRandom.getRandomBase64String(byteLength);
  } else if (global.ExpoModules) {
    return global.ExpoModules.ExpoRandom.getRandomBase64String(byteLength);
  } else {
    throw new Error('Native module not found');
  }
}
function getRandomValues(array) {
  if (!(array instanceof Int8Array || array instanceof Uint8Array || array instanceof Int16Array || array instanceof Uint16Array || array instanceof Int32Array || array instanceof Uint32Array || array instanceof Uint8ClampedArray)) {
    throw new TypeMismatchError('Expected an integer array');
  }
  if (array.byteLength > 65536) {
    throw new QuotaExceededError('Can only request a maximum of 65536 bytes');
  }
  if (global.expo && global.expo.modules && global.expo.modules.ExpoCrypto && global.expo.modules.ExpoCrypto.getRandomValues) {
    global.expo.modules.ExpoCrypto.getRandomValues(array);
    return array;
  }
  if (__DEV__) {
    if (typeof global.nativeCallSyncHook === 'undefined') {
      return insecureRandomValues(array);
    }
  }
  base64Decode(getRandomBase64(array.byteLength), new Uint8Array(array.buffer, array.byteOffset, array.byteLength));
  return array;
}
if (typeof global.crypto !== 'object') {
  global.crypto = {};
}
if (typeof global.crypto.getRandomValues !== 'function') {
  global.crypto.getRandomValues = getRandomValues;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiYXNlNjREZWNvZGUiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJOYXRpdmVNb2R1bGVzIiwiVHlwZU1pc21hdGNoRXJyb3IiLCJfRXJyb3IiLCJfaW5oZXJpdHMyIiwiZGVmYXVsdCIsIl9zdXBlciIsIl9jcmVhdGVTdXBlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9jcmVhdGVDbGFzczIiLCJfd3JhcE5hdGl2ZVN1cGVyMiIsIkVycm9yIiwiUXVvdGFFeGNlZWRlZEVycm9yIiwiX0Vycm9yMiIsIl9zdXBlcjIiLCJ3YXJuZWQiLCJpbnNlY3VyZVJhbmRvbVZhbHVlcyIsImFycmF5IiwiY29uc29sZSIsIndhcm4iLCJpIiwiciIsImxlbmd0aCIsIk1hdGgiLCJyYW5kb20iLCJnZXRSYW5kb21CYXNlNjQiLCJieXRlTGVuZ3RoIiwiUk5HZXRSYW5kb21WYWx1ZXMiLCJFeHBvUmFuZG9tIiwiZ2V0UmFuZG9tQmFzZTY0U3RyaW5nIiwiZ2xvYmFsIiwiRXhwb01vZHVsZXMiLCJnZXRSYW5kb21WYWx1ZXMiLCJJbnQ4QXJyYXkiLCJVaW50OEFycmF5IiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJleHBvIiwibW9kdWxlcyIsIkV4cG9DcnlwdG8iLCJfX0RFVl9fIiwibmF0aXZlQ2FsbFN5bmNIb29rIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImNyeXB0byJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJhc2U2NERlY29kZSA9IHJlcXVpcmUoJ2Zhc3QtYmFzZTY0LWRlY29kZScpXG5jb25zdCB7IE5hdGl2ZU1vZHVsZXMgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpXG5cbmNsYXNzIFR5cGVNaXNtYXRjaEVycm9yIGV4dGVuZHMgRXJyb3Ige31cbmNsYXNzIFF1b3RhRXhjZWVkZWRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmxldCB3YXJuZWQgPSBmYWxzZVxuZnVuY3Rpb24gaW5zZWN1cmVSYW5kb21WYWx1ZXMgKGFycmF5KSB7XG4gIGlmICghd2FybmVkKSB7XG4gICAgY29uc29sZS53YXJuKCdVc2luZyBhbiBpbnNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvciwgdGhpcyBzaG91bGQgb25seSBoYXBwZW4gd2hlbiBydW5uaW5nIGluIGEgZGVidWdnZXIgd2l0aG91dCBzdXBwb3J0IGZvciBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJylcbiAgICB3YXJuZWQgPSB0cnVlXG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDBcbiAgICBhcnJheVtpXSA9IChyID4+PiAoKGkgJiAweDAzKSA8PCAzKSkgJiAweGZmXG4gIH1cblxuICByZXR1cm4gYXJyYXlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gYnl0ZUxlbmd0aFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0UmFuZG9tQmFzZTY0IChieXRlTGVuZ3RoKSB7XG4gIGlmIChOYXRpdmVNb2R1bGVzLlJOR2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgcmV0dXJuIE5hdGl2ZU1vZHVsZXMuUk5HZXRSYW5kb21WYWx1ZXMuZ2V0UmFuZG9tQmFzZTY0KGJ5dGVMZW5ndGgpXG4gIH0gZWxzZSBpZiAoTmF0aXZlTW9kdWxlcy5FeHBvUmFuZG9tKSB7XG4gICAgLy8gRXhwbyBTREsgNDEtNDRcbiAgICByZXR1cm4gTmF0aXZlTW9kdWxlcy5FeHBvUmFuZG9tLmdldFJhbmRvbUJhc2U2NFN0cmluZyhieXRlTGVuZ3RoKVxuICB9IGVsc2UgaWYgKGdsb2JhbC5FeHBvTW9kdWxlcykge1xuICAgIC8vIEV4cG8gU0RLIDQ1K1xuICAgIHJldHVybiBnbG9iYWwuRXhwb01vZHVsZXMuRXhwb1JhbmRvbS5nZXRSYW5kb21CYXNlNjRTdHJpbmcoYnl0ZUxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmUgbW9kdWxlIG5vdCBmb3VuZCcpXG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ludDhBcnJheXxVaW50OEFycmF5fEludDE2QXJyYXl8VWludDE2QXJyYXl8SW50MzJBcnJheXxVaW50MzJBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyYXlcbiAqL1xuZnVuY3Rpb24gZ2V0UmFuZG9tVmFsdWVzIChhcnJheSkge1xuICBpZiAoIShhcnJheSBpbnN0YW5jZW9mIEludDhBcnJheSB8fCBhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgYXJyYXkgaW5zdGFuY2VvZiBJbnQxNkFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkgfHwgYXJyYXkgaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkgfHwgYXJyYXkgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZU1pc21hdGNoRXJyb3IoJ0V4cGVjdGVkIGFuIGludGVnZXIgYXJyYXknKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPiA2NTUzNikge1xuICAgIHRocm93IG5ldyBRdW90YUV4Y2VlZGVkRXJyb3IoJ0NhbiBvbmx5IHJlcXVlc3QgYSBtYXhpbXVtIG9mIDY1NTM2IGJ5dGVzJylcbiAgfVxuXG4gIC8vIEV4cG8gU0RLIDQ4K1xuICBpZiAoZ2xvYmFsLmV4cG8gJiYgZ2xvYmFsLmV4cG8ubW9kdWxlcyAmJiBnbG9iYWwuZXhwby5tb2R1bGVzLkV4cG9DcnlwdG8gJiYgZ2xvYmFsLmV4cG8ubW9kdWxlcy5FeHBvQ3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIEV4cG9DcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIGRvZXNuJ3QgcmV0dXJuIHRoZSBhcnJheVxuICAgIGdsb2JhbC5leHBvLm1vZHVsZXMuRXhwb0NyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpXG4gICAgcmV0dXJuIGFycmF5XG4gIH1cblxuICAvLyBDYWxsaW5nIGdldFJhbmRvbUJhc2U2NCBpbiBkZWJ1ZyBtb2RlIGxlYWRzIHRvIHRoZSBlcnJvclxuICAvLyBcIkNhbGxpbmcgc3luY2hyb25vdXMgbWV0aG9kcyBvbiBuYXRpdmUgbW9kdWxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIENocm9tZVwiLlxuICAvLyBTbyBpbiB0aGF0IHNwZWNpZmljIGNhc2Ugd2UgZmFsbCBiYWNrIHRvIGp1c3QgdXNpbmcgTWF0aC5yYW5kb20uXG4gIGlmIChfX0RFVl9fKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwubmF0aXZlQ2FsbFN5bmNIb29rID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGluc2VjdXJlUmFuZG9tVmFsdWVzKGFycmF5KVxuICAgIH1cbiAgfVxuXG4gIGJhc2U2NERlY29kZShnZXRSYW5kb21CYXNlNjQoYXJyYXkuYnl0ZUxlbmd0aCksIG5ldyBVaW50OEFycmF5KGFycmF5LmJ1ZmZlciwgYXJyYXkuYnl0ZU9mZnNldCwgYXJyYXkuYnl0ZUxlbmd0aCkpXG5cbiAgcmV0dXJuIGFycmF5XG59XG5cbmlmICh0eXBlb2YgZ2xvYmFsLmNyeXB0byAhPT0gJ29iamVjdCcpIHtcbiAgZ2xvYmFsLmNyeXB0byA9IHt9XG59XG5cbmlmICh0eXBlb2YgZ2xvYmFsLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMgIT09ICdmdW5jdGlvbicpIHtcbiAgZ2xvYmFsLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMgPSBnZXRSYW5kb21WYWx1ZXNcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsb0JBQW9CLENBQUM7QUFDbEQsSUFBQUMsUUFBQSxHQUEwQkQsT0FBTyxDQUFDLGNBQWMsQ0FBQztFQUF6Q0UsYUFBYSxHQUFBRCxRQUFB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