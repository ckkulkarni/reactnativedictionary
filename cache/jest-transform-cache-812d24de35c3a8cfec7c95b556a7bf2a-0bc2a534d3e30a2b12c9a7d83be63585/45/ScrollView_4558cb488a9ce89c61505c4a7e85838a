29585182cda3fdf3ad65a207d1f18d5e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _View = _interopRequireDefault(require("../View/View"));
var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));
var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
if (_Platform.default.OS === 'ios') {
  require("../../Renderer/shims/ReactNative");
}
var _ref = _Platform.default.OS === 'android' ? {
    NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
  } : {
    NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
  },
  NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
  NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);
  var _super = _createSuper(ScrollView);
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._scrollView.nativeInstance);
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(_this._scrollView.nativeInstance, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(_this._scrollView.nativeInstance, animated);
    };
    _this.flashScrollIndicators = function () {
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollView.nativeInstance);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)((0, _assertThisInitialized2.default)(_this))), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(_this._scrollView.nativeInstance, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollView.nativeInstance, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
        _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
        NativeDirectionalScrollView = _ref3[0],
        NativeDirectionalScrollContentView = _ref3[1];
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeDirectionalScrollContentView, _objectSpread(_objectSpread({}, contentSizeChangeProps), {}, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
  return ScrollView;
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread(_objectSpread({}, props), {}, {
    scrollViewRef: ref
  }));
}
Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0ZyYW1lUmF0ZUxvZ2dlciIsIl9SZW5kZXJlclByb3h5IiwiX1VJTWFuYWdlciIsIl9mbGF0dGVuU3R5bGUiLCJfc3BsaXRMYXlvdXRQcm9wczIiLCJfU3R5bGVTaGVldCIsIl9EaW1lbnNpb25zIiwiX2Rpc21pc3NLZXlib2FyZCIsIl9QbGF0Zm9ybSIsIl9LZXlib2FyZCIsIl9UZXh0SW5wdXRTdGF0ZSIsIl9WaWV3IiwiX0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJfQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiX3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwiX1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiX1Njcm9sbFZpZXdDb21tYW5kcyIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9pbnZhcmlhbnQiLCJfbWVtb2l6ZU9uZSIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfanN4UnVudGltZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJ2YWx1ZU9mIiwiZSIsIlBsYXRmb3JtIiwiT1MiLCJfcmVmIiwiTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZSIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZSIsIlNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJWaWV3IiwiU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TIiwiU2Nyb2xsVmlldyIsIl9SZWFjdCRDb21wb25lbnQiLCJfaW5oZXJpdHMyIiwiX3N1cGVyIiwicHJvcHMiLCJfdGhpcyRwcm9wcyRjb250ZW50T2YiLCJfdGhpcyRwcm9wcyRjb250ZW50T2YyIiwiX3RoaXMkcHJvcHMkY29udGVudEluIiwiX3RoaXMkcHJvcHMkY29udGVudEluMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCIsIl9zdGlja3lIZWFkZXJSZWZzIiwiTWFwIiwiX2hlYWRlckxheW91dFlzIiwiX2tleWJvYXJkTWV0cmljcyIsIl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0IiwiX2lzVG91Y2hpbmciLCJfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lIiwiX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUiLCJfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyIiwiX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nIiwiX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCIsIl9hbmltYXRlZCIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93IiwiX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93IiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSIsInN0YXRlIiwibGF5b3V0SGVpZ2h0IiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZDIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiX3Njcm9sbFZpZXciLCJuYXRpdmVJbnN0YW5jZSIsImdldElubmVyVmlld05vZGUiLCJfaW5uZXJWaWV3IiwiZ2V0SW5uZXJWaWV3UmVmIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJDb21tYW5kcyIsInNjcm9sbFRvRW5kIiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIm51bGx0aHJvd3MiLCJfdGV4dElucHV0Rm9jdXNFcnJvciIsIl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkIiwic2Nyb2xsUmVzcG9uZGVyWm9vbVRvIiwicmVjdCIsImludmFyaWFudCIsInpvb21Ub1JlY3QiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJrZXlib2FyZFNjcmVlblkiLCJEaW1lbnNpb25zIiwic2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0Iiwic2NyZWVuWSIsInNjcm9sbE9mZnNldFkiLCJNYXRoIiwibWF4Iiwic2V0VGltZW91dCIsIl9oYW5kbGVTY3JvbGwiLCJfX0RFVl9fIiwib25TY3JvbGwiLCJzY3JvbGxFdmVudFRocm90dGxlIiwibG9nIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0IiwiX2UkbmF0aXZlRXZlbnQkbGF5b3V0Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsImNyZWF0ZVJlZkZvcndhcmRlciIsImluc3RhbmNlIiwicHVibGljSW5zdGFuY2UiLCJhc3NpZ24iLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93IiwiZW5kQ29vcmRpbmF0ZXMiLCJvbktleWJvYXJkV2lsbFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlIiwib25LZXlib2FyZFdpbGxIaWRlIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93Iiwib25LZXlib2FyZERpZFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUiLCJvbktleWJvYXJkRGlkSGlkZSIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJGcmFtZVJhdGVMb2dnZXIiLCJlbmRTY3JvbGwiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyIsImJlZ2luU2Nyb2xsIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsImRpc21pc3NLZXlib2FyZCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX2hhbmRsZVNjcm9sbEVuZERyYWciLCJ2ZWxvY2l0eSIsIl9pc0FuaW1hdGluZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCIsImlzQW5pbWF0aW5nIiwiX2hhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJHcmFudCIsIl9oYW5kbGVSZXNwb25kZXJSZWplY3QiLCJfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoZXMiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiX3NvZnRLZXlib2FyZElzRGV0YWNoZWQiLCJpc1RleHRJbnB1dCIsImhhc0ZvY3VzZWRUZXh0SW5wdXQiLCJzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4iLCJfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlIiwiVmVyc2lvbiIsIl9oYW5kbGVUb3VjaEVuZCIsImtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMiLCJvblRvdWNoRW5kIiwiX2hhbmRsZVRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIl9oYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZEltcGxlbWVudGF0aW9uIiwiVmFsdWUiLCJjb250ZW50T2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY29udGVudEluc2V0IiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwiY29tcG9uZW50RGlkTW91bnQiLCJLZXlib2FyZCIsIm1ldHJpY3MiLCJhZGRMaXN0ZW5lciIsIl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50IiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldkNvbnRlbnRJbnNldFRvcCIsIm5ld0NvbnRlbnRJbnNldFRvcCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlIiwiZGV0YWNoIiwiX2dldEtleUZvckluZGV4IiwiaW5kZXgiLCJjaGlsZEFycmF5IiwiY2hpbGQiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwiYXR0YWNoTmF0aXZlRXZlbnQiLCJfc2V0U3RpY2t5SGVhZGVyUmVmIiwicmVmIiwiZGVsZXRlIiwiX29uU3RpY2t5SGVhZGVyTGF5b3V0IiwiZXZlbnQiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwic2V0TmV4dEhlYWRlclkiLCJyZW5kZXIiLCJfdGhpczIiLCJfcmVmMiIsImhvcml6b250YWwiLCJfcmVmMyIsIl9zbGljZWRUb0FycmF5MiIsIk5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldyIsIk5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXciLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJzdHlsZXMiLCJjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCIsInN0eWxlIiwidW5kZWZpbmVkIiwiZmxhdHRlblN0eWxlIiwiY2hpbGRMYXlvdXRQcm9wcyIsInByb3AiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudFNpemVDaGFuZ2VQcm9wcyIsIm1hcCIsIm5leHRJbmRleCIsIlN0aWNreUhlYWRlckNvbXBvbmVudCIsIlNjcm9sbFZpZXdTdGlja3lIZWFkZXIiLCJqc3giLCJuYXRpdmVJRCIsIm5leHRIZWFkZXJMYXlvdXRZIiwic2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsImludmVydGVkIiwiaGlkZGVuT25TY3JvbGwiLCJzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbCIsInNjcm9sbFZpZXdIZWlnaHQiLCJQcm92aWRlciIsIkhPUklaT05UQUwiLCJWRVJUSUNBTCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwiZ2V0Rm9yd2FyZGluZ1JlZiIsImlubmVyVmlld1JlZiIsInJlbW92ZUNsaXBwZWRTdWJ2aWV3cyIsImNvbGxhcHNhYmxlIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJTdHlsZVNoZWV0IiwiY29tcG9zZSIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInNuYXBUb1N0YXJ0Iiwic25hcFRvRW5kIiwicGFnaW5nRW5hYmxlZCIsInNlbGVjdCIsImlvcyIsInNuYXBUb0ludGVydmFsIiwic25hcFRvT2Zmc2V0cyIsImFuZHJvaWQiLCJkZWNlbGVyYXRpb25SYXRlIiwicHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUiLCJyZWZyZXNoQ29udHJvbCIsInNjcm9sbFZpZXdSZWYiLCJqc3hzIiwiX3NwbGl0TGF5b3V0UHJvcHMiLCJzcGxpdExheW91dFByb3BzIiwib3V0ZXIiLCJpbm5lciIsImNsb25lRWxlbWVudCIsIkNvbXBvbmVudCIsIkNvbnRleHQiLCJTY3JvbGxWaWV3Q29udGV4dCIsImNyZWF0ZSIsImZsZXhHcm93IiwiZmxleFNocmluayIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIm11dGF0b3IiLCJtZW1vaXplIiwiZm9yd2FyZGVkUmVmIiwiY3VycmVudCIsIldyYXBwZXIiLCJkaXNwbGF5TmFtZSIsIkZvcndhcmRlZFNjcm9sbFZpZXciLCJmb3J3YXJkUmVmIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbmltcG9ydCB0eXBlIHtIb3N0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBQcmVzc0V2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0V2ZW50U3Vic2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZW5kb3IvZW1pdHRlci9FdmVudEVtaXR0ZXInO1xuaW1wb3J0IHR5cGUge0tleWJvYXJkRXZlbnQsIEtleWJvYXJkTWV0cmljc30gZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IHR5cGUge1ZpZXdQcm9wc30gZnJvbSAnLi4vVmlldy9WaWV3UHJvcFR5cGVzJztcbmltcG9ydCB0eXBlIHtQcm9wcyBhcyBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHN9IGZyb20gJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcic7XG5cbmltcG9ydCBBbmltYXRlZEltcGxlbWVudGF0aW9uIGZyb20gJy4uLy4uL0FuaW1hdGVkL0FuaW1hdGVkSW1wbGVtZW50YXRpb24nO1xuaW1wb3J0IEZyYW1lUmF0ZUxvZ2dlciBmcm9tICcuLi8uLi9JbnRlcmFjdGlvbi9GcmFtZVJhdGVMb2dnZXInO1xuaW1wb3J0IHtmaW5kTm9kZUhhbmRsZX0gZnJvbSAnLi4vLi4vUmVhY3ROYXRpdmUvUmVuZGVyZXJQcm94eSc7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1VJTWFuYWdlcic7XG5pbXBvcnQgZmxhdHRlblN0eWxlIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJztcbmltcG9ydCBzcGxpdExheW91dFByb3BzIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvc3BsaXRMYXlvdXRQcm9wcyc7XG5pbXBvcnQgU3R5bGVTaGVldCBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IERpbWVuc2lvbnMgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL0RpbWVuc2lvbnMnO1xuaW1wb3J0IGRpc21pc3NLZXlib2FyZCBmcm9tICcuLi8uLi9VdGlsaXRpZXMvZGlzbWlzc0tleWJvYXJkJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCBUZXh0SW5wdXRTdGF0ZSBmcm9tICcuLi9UZXh0SW5wdXQvVGV4dElucHV0U3RhdGUnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSBmcm9tICcuL3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlJztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBDb21tYW5kcyBmcm9tICcuL1Njcm9sbFZpZXdDb21tYW5kcyc7XG5pbXBvcnQgU2Nyb2xsVmlld0NvbnRleHQsIHtIT1JJWk9OVEFMLCBWRVJUSUNBTH0gZnJvbSAnLi9TY3JvbGxWaWV3Q29udGV4dCc7XG5pbXBvcnQgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IFNjcm9sbFZpZXdTdGlja3lIZWFkZXIgZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBtZW1vaXplIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIHJlcXVpcmUoJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlJyk7IC8vIEZvcmNlIHNpZGUgZWZmZWN0cyB0byBwcmV2ZW50IFQ1NTc0NDMxMVxufVxuXG5jb25zdCB7TmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZSwgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGV9ID1cbiAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgID8ge1xuICAgICAgICBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICAgIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgIF0sXG4gICAgICAgIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlOiBbU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCwgVmlld10sXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICAgIFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgICBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgICAgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQsXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4vKlxuICogaU9TIHNjcm9sbCBldmVudCB0aW1pbmcgbnVhbmNlczpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKlxuICogU2Nyb2xsaW5nIHdpdGhvdXQgYm91bmNpbmcsIGlmIHlvdSB0b3VjaCBkb3duOlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIDEuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gICh3aGVuIGFuaW1hdGlvbiBiZWdpbnMgYWZ0ZXIgbGV0dGluZyB1cClcbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBzdGFydHMgLi4uXG4gKiAyLiBgb25Ub3VjaFN0YXJ0Q2FwdHVyZWAgICAod2hlbiB5b3UgcHJlc3MgZG93biB0byBzdG9wIHRoZSBzY3JvbGwpXG4gKiAzLiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDQuIGBvblJlc3BvbmRlclJlbGVhc2VgICAgICh3aGVuIGxpZnRpbmcgdXAgLSB5b3UgY291bGQgcGF1c2UgZm9yZXZlciBiZWZvcmUgKiBsaWZ0aW5nKVxuICogNS4gYG9uTW9tZW50dW1TY3JvbGxFbmRgXG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRoIGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gYm91bmNlIGJlZ2lucyAuLi5cbiAqICAgIC4uLiBzb21lIHRpbWUgZWxhcHNlcyAuLi5cbiAqICAgIC4uLiBwaHlzaWNhbCB0b3VjaCBkdXJpbmcgYm91bmNlIC4uLlxuICogMi4gYG9uTW9tZW50dW1TY3JvbGxFbmRgICAgKE1ha2VzIG5vIHNlbnNlIHdoeSB0aGlzIG9jY3VycyBmaXJzdCBkdXJpbmcgYm91bmNlKVxuICogMy4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKGltbWVkaWF0ZWx5IGFmdGVyIGBvbk1vbWVudHVtU2Nyb2xsRW5kYClcbiAqIDQuIGBvblRvdWNoU3RhcnRgICAgICAgICAgIChzYW1lLCBidXQgYnViYmxlIHBoYXNlKVxuICogNS4gYG9uVG91Y2hFbmRgICAgICAgICAgICAgKFlvdSBjb3VsZCBob2xkIHRoZSB0b3VjaCBzdGFydCBmb3IgYSBsb25nIHRpbWUpXG4gKiA2LiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAoV2hlbiByZWxlYXNpbmcgdGhlIHZpZXcgc3RhcnRzIGJvdW5jaW5nIGJhY2spXG4gKlxuICogU28gd2hlbiB3ZSByZWNlaXZlIGFuIGBvblRvdWNoU3RhcnRgLCBob3cgY2FuIHdlIHRlbGwgaWYgd2UgYXJlIHRvdWNoaW5nXG4gKiAqZHVyaW5nKiBhbiBhbmltYXRpb24gKHdoaWNoIHRoZW4gY2F1c2VzIHRoZSBhbmltYXRpb24gdG8gc3RvcCk/IFRoZSBvbmx5IHdheVxuICogdG8gdGVsbCBpcyBpZiB0aGUgYHRvdWNoU3RhcnRgIG9jY3VycmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICogYG9uTW9tZW50dW1TY3JvbGxFbmRgLlxuICpcbiAqIFRoaXMgaXMgYWJzdHJhY3RlZCBvdXQgZm9yIHlvdSwgc28geW91IGNhbiBqdXN0IGNhbGwgdGhpcy5zY3JvbGxSZXNwb25kZXJJc0FuaW1hdGluZygpIGlmXG4gKiBuZWNlc3NhcnlcbiAqXG4gKiBgU2Nyb2xsVmlld2AgYWxzbyBpbmNsdWRlcyBsb2dpYyBmb3IgYmx1cnJpbmcgYSBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dFxuICogaWYgb25lIGlzIGZvY3VzZWQgd2hpbGUgc2Nyb2xsaW5nLiBUaGlzIGlzIGEgbmF0dXJhbCBwbGFjZVxuICogdG8gcHV0IHRoaXMgbG9naWMgc2luY2UgaXQgY2FuIHN1cHBvcnQgbm90IGRpc21pc3NpbmcgdGhlIGtleWJvYXJkIHdoaWxlXG4gKiBzY3JvbGxpbmcsIHVubGVzcyBhIHJlY29nbml6ZWQgXCJ0YXBcIi1saWtlIGdlc3R1cmUgaGFzIG9jY3VycmVkLlxuICpcbiAqIFRoZSBwdWJsaWMgbGlmZWN5Y2xlIEFQSSBpbmNsdWRlcyBldmVudHMgZm9yIGtleWJvYXJkIGludGVyYWN0aW9uLCByZXNwb25kZXJcbiAqIGludGVyYWN0aW9uLCBhbmQgc2Nyb2xsaW5nIChhbW9uZyBvdGhlcnMpLiBUaGUga2V5Ym9hcmQgY2FsbGJhY2tzXG4gKiBgb25LZXlib2FyZFdpbGwvRGlkLypgIGFyZSAqZ2xvYmFsKiBldmVudHMsIGJ1dCBhcmUgaW52b2tlZCBvbiBzY3JvbGxcbiAqIHJlc3BvbmRlcidzIHByb3BzIHNvIHRoYXQgeW91IGNhbiBndWFyYW50ZWUgdGhhdCB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzXG4gKiBpbnRlcm5hbCBzdGF0ZSBoYXMgYmVlbiB1cGRhdGVkIGFjY29yZGluZ2x5IChhbmQgZGV0ZXJtaW5pc3RpY2FsbHkpIGJ5XG4gKiB0aGUgdGltZSB0aGUgcHJvcHMgY2FsbGJhY2tzIGFyZSBpbnZva2UuIE90aGVyd2lzZSwgeW91IHdvdWxkIGFsd2F5cyB3b25kZXJcbiAqIGlmIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGlzIGN1cnJlbnRseSBpbiBhIHN0YXRlIHdoZXJlIGl0IHJlY29nbml6ZXMgbmV3XG4gKiBrZXlib2FyZCBwb3NpdGlvbnMgZXRjLiBJZiBjb29yZGluYXRpbmcgc2Nyb2xsaW5nIHdpdGgga2V5Ym9hcmQgbW92ZW1lbnQsXG4gKiAqYWx3YXlzKiB1c2UgdGhlc2UgaG9va3MgaW5zdGVhZCBvZiBsaXN0ZW5pbmcgdG8geW91ciBvd24gZ2xvYmFsIGtleWJvYXJkXG4gKiBldmVudHMuXG4gKlxuICogUHVibGljIGtleWJvYXJkIGxpZmVjeWNsZSBBUEk6IChwcm9wcyBjYWxsYmFja3MpXG4gKlxuICogU3RhbmRhcmQgS2V5Ym9hcmQgQXBwZWFyYW5jZSBTZXF1ZW5jZTpcbiAqXG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93XG4gKiAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3dcbiAqXG4gKiBgb25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZGAgd2lsbCBiZSBpbnZva2VkIGlmIGFuIGFwcHJvcHJpYXRlXG4gKiB0YXAgaW5zaWRlIHRoZSBzY3JvbGwgcmVzcG9uZGVyJ3Mgc2Nyb2xsYWJsZSByZWdpb24gd2FzIHJlc3BvbnNpYmxlXG4gKiBmb3IgdGhlIGRpc21pc3NhbCBvZiB0aGUga2V5Ym9hcmQuIFRoZXJlIGFyZSBvdGhlciByZWFzb25zIHdoeSB0aGVcbiAqIGtleWJvYXJkIGNvdWxkIGJlIGRpc21pc3NlZC5cbiAqXG4gKiAgIHRoaXMucHJvcHMub25TY3JvbGxSZXNwb25kZXJLZXlib2FyZERpc21pc3NlZFxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEhpZGUgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZVxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlXG4gKi9cblxuLy8gUHVibGljIG1ldGhvZHMgZm9yIFNjcm9sbFZpZXdcbmV4cG9ydCB0eXBlIFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcyA9ICRSZWFkT25seTx7fFxuICBnZXRTY3JvbGxSZXNwb25kZXI6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbFJlc3BvbmRlcic+LFxuICBnZXRTY3JvbGxhYmxlTm9kZTogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0U2Nyb2xsYWJsZU5vZGUnPixcbiAgZ2V0SW5uZXJWaWV3Tm9kZTogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZ2V0SW5uZXJWaWV3Tm9kZSc+LFxuICBnZXRJbm5lclZpZXdSZWY6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld1JlZic+LFxuICBnZXROYXRpdmVTY3JvbGxSZWY6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldE5hdGl2ZVNjcm9sbFJlZic+LFxuICBzY3JvbGxUbzogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsVG8nPixcbiAgc2Nyb2xsVG9FbmQ6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFRvRW5kJz4sXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnZmxhc2hTY3JvbGxJbmRpY2F0b3JzJz4sXG4gIHNjcm9sbFJlc3BvbmRlclpvb21UbzogJFByb3BlcnR5VHlwZTxTY3JvbGxWaWV3LCAnc2Nyb2xsUmVzcG9uZGVyWm9vbVRvJz4sXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6ICRQcm9wZXJ0eVR5cGU8XG4gICAgU2Nyb2xsVmlldyxcbiAgICAnc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCcsXG4gID4sXG58fT47XG5cbmV4cG9ydCB0eXBlIERlY2VsZXJhdGlvblJhdGVUeXBlID0gJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXI7XG5leHBvcnQgdHlwZSBTY3JvbGxSZXNwb25kZXJUeXBlID0gU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzO1xuXG50eXBlIE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZSA9IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+O1xudHlwZSBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgPSAkUmVhZE9ubHk8e3xcbiAgLi4uJEV4YWN0PE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZT4sXG4gIC4uLlNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcyxcbnx9PjtcblxudHlwZSBJbm5lclZpZXdJbnN0YW5jZSA9IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+O1xuXG50eXBlIElPU1Byb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIGNvbnRlbnQgaW5zZXRcbiAgICogZm9yIHNjcm9sbCB2aWV3cyB0aGF0IGFyZSBwbGFjZWQgYmVoaW5kIGEgbmF2aWdhdGlvbiBiYXIgb3JcbiAgICogdGFiIGJhci8gdG9vbGJhci4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdENvbnRlbnRJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIFNjcm9sbFZpZXcgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IGl0cyBgY29udGVudEluc2V0YFxuICAgKiBhbmQgYHNjcm9sbFZpZXdJbnNldHNgIHdoZW4gdGhlIEtleWJvYXJkIGNoYW5nZXMgaXRzIHNpemUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0S2V5Ym9hcmRJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgc2Nyb2xsIGluZGljYXRvclxuICAgKiBpbnNldHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuIEF2YWlsYWJsZSBvbiBpT1MgMTMgYW5kIGxhdGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0c1Njcm9sbEluZGljYXRvckluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGJvdW5jZXMgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmQgb2YgdGhlXG4gICAqIGNvbnRlbnQgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2VyIHRoZW4gdGhlIHNjcm9sbCB2aWV3IGFsb25nIHRoZSBheGlzIG9mXG4gICAqIHRoZSBzY3JvbGwgZGlyZWN0aW9uLiBXaGVuIGZhbHNlLCBpdCBkaXNhYmxlcyBhbGwgYm91bmNpbmcgZXZlbiBpZlxuICAgKiB0aGUgYGFsd2F5c0JvdW5jZSpgIHByb3BzIGFyZSB0cnVlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0LCBTY3JvbGxWaWV3IGhhcyBhbiBhY3RpdmUgcGFuIHJlc3BvbmRlciB0aGF0IGhpamFja3MgcGFucmVzcG9uZGVyc1xuICAgKiBkZWVwZXIgaW4gdGhlIHJlbmRlciB0cmVlIGluIG9yZGVyIHRvIHByZXZlbnQgYWNjaWRlbnRhbCB0b3VjaGVzIHdoaWxlIHNjcm9sbGluZy5cbiAgICogSG93ZXZlciwgaW4gY2VydGFpbiBvY2Nhc2lvbnMgKHN1Y2ggYXMgd2hlbiB1c2luZyBzbmFwVG9JbnRlcnZhbCkgaW4gYSB2ZXJ0aWNhbCBzY3JvbGx2aWV3XG4gICAqIFlvdSBtYXkgd2FudCB0byBkaXNhYmxlIHRoaXMgYmVoYXZpb3IgaW4gb3JkZXIgdG8gcHJldmVudCB0aGUgU2Nyb2xsVmlldyBmcm9tIGJsb2NraW5nIHRvdWNoZXNcbiAgICovXG4gIGRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGdlc3R1cmVzIGNhbiBkcml2ZSB6b29tIHBhc3QgbWluL21heCBhbmQgdGhlIHpvb20gd2lsbCBhbmltYXRlXG4gICAqIHRvIHRoZSBtaW4vbWF4IHZhbHVlIGF0IGdlc3R1cmUgZW5kLCBvdGhlcndpc2UgdGhlIHpvb20gd2lsbCBub3QgZXhjZWVkXG4gICAqIHRoZSBsaW1pdHMuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGJvdW5jZXNab29tPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIGhvcml6b250YWxseSB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZFxuICAgKiBldmVuIGlmIHRoZSBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgaXRzZWxmLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyB0cnVlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhbHdheXNCb3VuY2VIb3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHZlcnRpY2FsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2Ugd2hlbiBgaG9yaXpvbnRhbD17dHJ1ZX1gIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlVmVydGljYWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGF1dG9tYXRpY2FsbHkgY2VudGVycyB0aGUgY29udGVudCB3aGVuIHRoZVxuICAgKiBjb250ZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcgYm91bmRzOyB3aGVuIHRoZSBjb250ZW50IGlzXG4gICAqIGxhcmdlciB0aGFuIHRoZSBzY3JvbGwgdmlldywgdGhpcyBwcm9wZXJ0eSBoYXMgbm8gZWZmZWN0LiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY2VudGVyQ29udGVudD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIHN0eWxlIG9mIHRoZSBzY3JvbGwgaW5kaWNhdG9ycy5cbiAgICpcbiAgICogICAtIGAnZGVmYXVsdCdgICh0aGUgZGVmYXVsdCksIHNhbWUgYXMgYGJsYWNrYC5cbiAgICogICAtIGAnYmxhY2snYCwgc2Nyb2xsIGluZGljYXRvciBpcyBibGFjay4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBsaWdodCBiYWNrZ3JvdW5kLlxuICAgKiAgIC0gYCd3aGl0ZSdgLCBzY3JvbGwgaW5kaWNhdG9yIGlzIHdoaXRlLiBUaGlzIHN0eWxlIGlzIGdvb2QgYWdhaW5zdCBhIGRhcmsgYmFja2dyb3VuZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgaW5kaWNhdG9yU3R5bGU/OiA/KCdkZWZhdWx0JyB8ICdibGFjaycgfCAnd2hpdGUnKSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIFNjcm9sbFZpZXcgd2lsbCB0cnkgdG8gbG9jayB0byBvbmx5IHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICogc2Nyb2xsaW5nIHdoaWxlIGRyYWdnaW5nLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGRpcmVjdGlvbmFsTG9ja0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIG9uY2UgdHJhY2tpbmcgc3RhcnRzLCB3b24ndCB0cnkgdG8gZHJhZyBpZiB0aGUgdG91Y2ggbW92ZXMuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNhbkNhbmNlbENvbnRlbnRUb3VjaGVzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgdGhlIHNjcm9sbCB2aWV3IHdpbGwgYWRqdXN0IHRoZSBzY3JvbGwgcG9zaXRpb24gc28gdGhhdCB0aGUgZmlyc3QgY2hpbGQgdGhhdCBpc1xuICAgKiBjdXJyZW50bHkgdmlzaWJsZSBhbmQgYXQgb3IgYmV5b25kIGBtaW5JbmRleEZvclZpc2libGVgIHdpbGwgbm90IGNoYW5nZSBwb3NpdGlvbi4gVGhpcyBpc1xuICAgKiB1c2VmdWwgZm9yIGxpc3RzIHRoYXQgYXJlIGxvYWRpbmcgY29udGVudCBpbiBib3RoIGRpcmVjdGlvbnMsIGUuZy4gYSBjaGF0IHRocmVhZCwgd2hlcmUgbmV3XG4gICAqIG1lc3NhZ2VzIGNvbWluZyBpbiBtaWdodCBvdGhlcndpc2UgY2F1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiB0byBqdW1wLiBBIHZhbHVlIG9mIDAgaXMgY29tbW9uLFxuICAgKiBidXQgb3RoZXIgdmFsdWVzIHN1Y2ggYXMgMSBjYW4gYmUgdXNlZCB0byBza2lwIGxvYWRpbmcgc3Bpbm5lcnMgb3Igb3RoZXIgY29udGVudCB0aGF0IHNob3VsZFxuICAgKiBub3QgbWFpbnRhaW4gcG9zaXRpb24uXG4gICAqXG4gICAqIFRoZSBvcHRpb25hbCBgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkYCBjYW4gYmUgdXNlZCB0byBtYWtlIHRoZSBjb250ZW50IGF1dG9tYXRpY2FsbHkgc2Nyb2xsXG4gICAqIHRvIHRoZSB0b3AgYWZ0ZXIgbWFraW5nIHRoZSBhZGp1c3RtZW50IGlmIHRoZSB1c2VyIHdhcyB3aXRoaW4gdGhlIHRocmVzaG9sZCBvZiB0aGUgdG9wIGJlZm9yZVxuICAgKiB0aGUgYWRqdXN0bWVudCB3YXMgbWFkZS4gVGhpcyBpcyBhbHNvIHVzZWZ1bCBmb3IgY2hhdC1saWtlIGFwcGxpY2F0aW9ucyB3aGVyZSB5b3Ugd2FudCB0byBzZWVcbiAgICogbmV3IG1lc3NhZ2VzIHNjcm9sbCBpbnRvIHBsYWNlLCBidXQgbm90IGlmIHRoZSB1c2VyIGhhcyBzY3JvbGxlZCB1cCBhIHdheXMgYW5kIGl0IHdvdWxkIGJlXG4gICAqIGRpc3J1cHRpdmUgdG8gc2Nyb2xsIGEgYnVuY2guXG4gICAqXG4gICAqIENhdmVhdCAxOiBSZW9yZGVyaW5nIGVsZW1lbnRzIGluIHRoZSBzY3JvbGx2aWV3IHdpdGggdGhpcyBlbmFibGVkIHdpbGwgcHJvYmFibHkgY2F1c2VcbiAgICoganVtcGluZXNzIGFuZCBqYW5rLiBJdCBjYW4gYmUgZml4ZWQsIGJ1dCB0aGVyZSBhcmUgY3VycmVudGx5IG5vIHBsYW5zIHRvIGRvIHNvLiBGb3Igbm93LFxuICAgKiBkb24ndCByZS1vcmRlciB0aGUgY29udGVudCBvZiBhbnkgU2Nyb2xsVmlld3Mgb3IgTGlzdHMgdGhhdCB1c2UgdGhpcyBmZWF0dXJlLlxuICAgKlxuICAgKiBDYXZlYXQgMjogVGhpcyBzaW1wbHkgdXNlcyBgY29udGVudE9mZnNldGAgYW5kIGBmcmFtZS5vcmlnaW5gIGluIG5hdGl2ZSBjb2RlIHRvIGNvbXB1dGVcbiAgICogdmlzaWJpbGl0eS4gT2NjbHVzaW9uLCB0cmFuc2Zvcm1zLCBhbmQgb3RoZXIgY29tcGxleGl0eSB3b24ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgYXMgdG9cbiAgICogd2hldGhlciBjb250ZW50IGlzIFwidmlzaWJsZVwiIG9yIG5vdC5cbiAgICpcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGluZGljYXRvcnMgYXJlIGluc2V0IGZyb20gdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBzaG91bGQgbm9ybWFsbHkgYmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlIGFzXG4gICAqIHRoZSBgY29udGVudEluc2V0YC4gRGVmYXVsdHMgdG8gYHswLCAwLCAwLCAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbEluZGljYXRvckluc2V0cz86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IGNhbiBiZSBwcm9ncmFtbWF0aWNhbGx5IHNjcm9sbGVkIGJleW9uZCBpdHNcbiAgICogY29udGVudCBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsVG9PdmVyZmxvd0VuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHNjcm9sbHMgdG8gdG9wIHdoZW4gdGhlIHN0YXR1cyBiYXIgaXMgdGFwcGVkLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxzVG9Ub3A/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEZpcmVzIHdoZW4gdGhlIHNjcm9sbCB2aWV3IHNjcm9sbHMgdG8gdG9wIGFmdGVyIHRoZSBzdGF0dXMgYmFyIGhhcyBiZWVuIHRhcHBlZFxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBvblNjcm9sbFRvVG9wPzogKGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSBob3Jpem9udGFsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c0hvcml6b250YWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjYWxlIG9mIHRoZSBzY3JvbGwgdmlldyBjb250ZW50LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGlzIHByb3BlcnR5IHNwZWNpZmllcyBob3cgdGhlIHNhZmUgYXJlYSBpbnNldHMgYXJlIHVzZWQgdG8gbW9kaWZ5IHRoZVxuICAgKiBjb250ZW50IGFyZWEgb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzXG4gICAqIFwibmV2ZXJcIi4gQXZhaWxhYmxlIG9uIGlPUyAxMSBhbmQgbGF0ZXIuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldEFkanVzdG1lbnRCZWhhdmlvcj86ID8oXG4gICAgfCAnYXV0b21hdGljJ1xuICAgIHwgJ3Njcm9sbGFibGVBeGVzJ1xuICAgIHwgJ25ldmVyJ1xuICAgIHwgJ2Fsd2F5cydcbiAgKSxcbnx9PjtcblxudHlwZSBBbmRyb2lkUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIEVuYWJsZXMgbmVzdGVkIHNjcm9sbGluZyBmb3IgQW5kcm9pZCBBUEkgbGV2ZWwgMjErLlxuICAgKiBOZXN0ZWQgc2Nyb2xsaW5nIGlzIHN1cHBvcnRlZCBieSBkZWZhdWx0IG9uIGlPU1xuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgbmVzdGVkU2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogU29tZXRpbWVzIGEgc2Nyb2xsdmlldyB0YWtlcyB1cCBtb3JlIHNwYWNlIHRoYW4gaXRzIGNvbnRlbnQgZmlsbHMuIFdoZW4gdGhpcyBpc1xuICAgKiB0aGUgY2FzZSwgdGhpcyBwcm9wIHdpbGwgZmlsbCB0aGUgcmVzdCBvZiB0aGUgc2Nyb2xsdmlldyB3aXRoIGEgY29sb3IgdG8gYXZvaWQgc2V0dGluZ1xuICAgKiBhIGJhY2tncm91bmQgYW5kIGNyZWF0aW5nIHVubmVjZXNzYXJ5IG92ZXJkcmF3LiBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGltaXphdGlvblxuICAgKiB0aGF0IGlzIG5vdCBuZWVkZWQgaW4gdGhlIGdlbmVyYWwgY2FzZS5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIGVuZEZpbGxDb2xvcj86ID9Db2xvclZhbHVlLFxuICAvKipcbiAgICogVGFnIHVzZWQgdG8gbG9nIHNjcm9sbCBwZXJmb3JtYW5jZSBvbiB0aGlzIHNjcm9sbCB2aWV3LiBXaWxsIGZvcmNlXG4gICAqIG1vbWVudHVtIGV2ZW50cyB0byBiZSB0dXJuZWQgb24gKHNlZSBzZW5kTW9tZW50dW1FdmVudHMpLiBUaGlzIGRvZXNuJ3QgZG9cbiAgICogYW55dGhpbmcgb3V0IG9mIHRoZSBib3ggYW5kIHlvdSBuZWVkIHRvIGltcGxlbWVudCBhIGN1c3RvbSBuYXRpdmVcbiAgICogRnBzTGlzdGVuZXIgZm9yIGl0IHRvIGJlIHVzZWZ1bC5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHNjcm9sbFBlcmZUYWc/OiA/c3RyaW5nLFxuICAvKipcbiAgICogVXNlZCB0byBvdmVycmlkZSBkZWZhdWx0IHZhbHVlIG9mIG92ZXJTY3JvbGwgbW9kZS5cbiAgICpcbiAgICogUG9zc2libGUgdmFsdWVzOlxuICAgKlxuICAgKiAgLSBgJ2F1dG8nYCAtIERlZmF1bHQgdmFsdWUsIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbFxuICAgKiAgICB0aGlzIHZpZXcgb25seSBpZiB0aGUgY29udGVudCBpcyBsYXJnZSBlbm91Z2ggdG8gbWVhbmluZ2Z1bGx5IHNjcm9sbC5cbiAgICogIC0gYCdhbHdheXMnYCAtIEFsd2F5cyBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKiAgLSBgJ25ldmVyJ2AgLSBOZXZlciBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGwgdGhpcyB2aWV3LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgb3ZlclNjcm9sbE1vZGU/OiA/KCdhdXRvJyB8ICdhbHdheXMnIHwgJ25ldmVyJyksXG4gIC8qKlxuICAgKiBDYXVzZXMgdGhlIHNjcm9sbGJhcnMgbm90IHRvIHR1cm4gdHJhbnNwYXJlbnQgd2hlbiB0aGV5IGFyZSBub3QgaW4gdXNlLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHBlcnNpc3RlbnRTY3JvbGxiYXI/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEZhZGVzIG91dCB0aGUgZWRnZXMgb2YgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlID0gUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8XG4gIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wcyxcbiAgJFJlYWRPbmx5PGludGVyZmFjZSB7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkfT4sXG4+O1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5WaWV3UHJvcHMsXG4gIC4uLklPU1Byb3BzLFxuICAuLi5BbmRyb2lkUHJvcHMsXG5cbiAgLyoqXG4gICAqIFRoZXNlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgY29udGFpbmVyIHdoaWNoXG4gICAqIHdyYXBzIGFsbCBvZiB0aGUgY2hpbGQgdmlld3MuIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYFxuICAgKiByZXR1cm4gKFxuICAgKiAgIDxTY3JvbGxWaWV3IGNvbnRlbnRDb250YWluZXJTdHlsZT17c3R5bGVzLmNvbnRlbnRDb250YWluZXJ9PlxuICAgKiAgIDwvU2Nyb2xsVmlldz5cbiAgICogKTtcbiAgICogLi4uXG4gICAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICBjb250ZW50Q29udGFpbmVyOiB7XG4gICAqICAgICBwYWRkaW5nVmVydGljYWw6IDIwXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjb250ZW50Q29udGFpbmVyU3R5bGU/OiA/Vmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICovXG4gIGNvbnRlbnRPZmZzZXQ/OiA/UG9pbnRQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gdGhlIG5leHQgaW5kZXggKGluIHJlbGF0aW9uIHRvIHNjcm9sbFxuICAgKiBwb3NpdGlvbiBhdCByZWxlYXNlKSByZWdhcmRsZXNzIG9mIGhvdyBmYXN0IHRoZSBnZXN0dXJlIGlzLiBUaGlzIGNhbiBiZVxuICAgKiB1c2VkIGZvciBwYWdpbmF0aW9uIHdoZW4gdGhlIHBhZ2UgaXMgbGVzcyB0aGFuIHRoZSB3aWR0aCBvZiB0aGVcbiAgICogaG9yaXpvbnRhbCBTY3JvbGxWaWV3IG9yIHRoZSBoZWlnaHQgb2YgdGhlIHZlcnRpY2FsIFNjcm9sbFZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgZGlzYWJsZUludGVydmFsTW9tZW50dW0/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRoYXQgZGV0ZXJtaW5lcyBob3cgcXVpY2tseSB0aGUgc2Nyb2xsIHZpZXdcbiAgICogZGVjZWxlcmF0ZXMgYWZ0ZXIgdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyLiBZb3UgbWF5IGFsc28gdXNlIHN0cmluZ1xuICAgKiBzaG9ydGN1dHMgYFwibm9ybWFsXCJgIGFuZCBgXCJmYXN0XCJgIHdoaWNoIG1hdGNoIHRoZSB1bmRlcmx5aW5nIGlPUyBzZXR0aW5nc1xuICAgKiBmb3IgYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVOb3JtYWxgIGFuZFxuICAgKiBgVUlTY3JvbGxWaWV3RGVjZWxlcmF0aW9uUmF0ZUZhc3RgIHJlc3BlY3RpdmVseS5cbiAgICpcbiAgICogICAtIGAnbm9ybWFsJ2A6IDAuOTk4IG9uIGlPUywgMC45ODUgb24gQW5kcm9pZCAodGhlIGRlZmF1bHQpXG4gICAqICAgLSBgJ2Zhc3QnYDogMC45OSBvbiBpT1MsIDAuOSBvbiBBbmRyb2lkXG4gICAqL1xuICBkZWNlbGVyYXRpb25SYXRlPzogP0RlY2VsZXJhdGlvblJhdGVUeXBlLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogTm90ZTogVmVydGljYWwgcGFnaW5hdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGlzIGNvbnRyb2xzIGhvdyBvZnRlbiB0aGUgc2Nyb2xsIGV2ZW50IHdpbGwgYmUgZmlyZWQgd2hpbGUgc2Nyb2xsaW5nXG4gICAqIChhcyBhIHRpbWUgaW50ZXJ2YWwgaW4gbXMpLiBBIGxvd2VyIG51bWJlciB5aWVsZHMgYmV0dGVyIGFjY3VyYWN5IGZvciBjb2RlXG4gICAqIHRoYXQgaXMgdHJhY2tpbmcgdGhlIHNjcm9sbCBwb3NpdGlvbiwgYnV0IGNhbiBsZWFkIHRvIHNjcm9sbCBwZXJmb3JtYW5jZVxuICAgKiBwcm9ibGVtcyBkdWUgdG8gdGhlIHZvbHVtZSBvZiBpbmZvcm1hdGlvbiBiZWluZyBzZW5kIG92ZXIgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVmFsdWVzIGJldHdlZW4gMCBhbmQgMTdtcyBpbmRpY2F0ZSA2MGZwcyB1cGRhdGVzIGFyZSBuZWVkZWQgYW5kIHRocm90dGxpbmdcbiAgICogd2lsbCBiZSBkaXNhYmxlZC5cbiAgICpcbiAgICogSWYgeW91IGRvIG5vdCBuZWVkIHByZWNpc2Ugc2Nyb2xsIHBvc2l0aW9uIHRyYWNraW5nLCBzZXQgdGhpcyB2YWx1ZSBoaWdoZXJcbiAgICogdG8gbGltaXQgdGhlIGluZm9ybWF0aW9uIGJlaW5nIHNlbnQgYWNyb3NzIHRoZSBicmlkZ2UuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHplcm8sIHdoaWNoIHJlc3VsdHMgaW4gdGhlIHNjcm9sbCBldmVudCBiZWluZyBzZW50IG9ubHlcbiAgICogb25jZSBlYWNoIHRpbWUgdGhlIHZpZXcgaXMgc2Nyb2xsZWQuXG4gICAqL1xuICBzY3JvbGxFdmVudFRocm90dGxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSB2ZXJ0aWNhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTdGlja3kgaGVhZGVyIGlzIGhpZGRlbiB3aGVuIHNjcm9sbGluZyBkb3duLCBhbmQgZG9jayBhdCB0aGUgdG9wXG4gICAqIHdoZW4gc2Nyb2xsaW5nIHVwXG4gICAqL1xuICBzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY2hpbGQgaW5kaWNlcyBkZXRlcm1pbmluZyB3aGljaCBjaGlsZHJlbiBnZXQgZG9ja2VkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIHBhc3NpbmdcbiAgICogYHN0aWNreUhlYWRlckluZGljZXM9e1swXX1gIHdpbGwgY2F1c2UgdGhlIGZpcnN0IGNoaWxkIHRvIGJlIGZpeGVkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb25cbiAgICogd2l0aCBgaG9yaXpvbnRhbD17dHJ1ZX1gLlxuICAgKi9cbiAgc3RpY2t5SGVhZGVySW5kaWNlcz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogQSBSZWFjdCBDb21wb25lbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHN0aWNreSBoZWFkZXJzLlxuICAgKiBUbyBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYHN0aWNreUhlYWRlckluZGljZXNgIG9yIHdpdGggYFNlY3Rpb25MaXN0YCwgZGVmYXVsdHMgdG8gYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuICAgKiBZb3UgbWF5IG5lZWQgdG8gc2V0IHRoaXMgaWYgeW91ciBzdGlja3kgaGVhZGVyIHVzZXMgY3VzdG9tIHRyYW5zZm9ybXMgKGVnLiB0cmFuc2xhdGlvbiksXG4gICAqIGZvciBleGFtcGxlIHdoZW4geW91IHdhbnQgeW91ciBsaXN0IHRvIGhhdmUgYW4gYW5pbWF0ZWQgaGlkYWJsZSBoZWFkZXIuXG4gICAqL1xuICBTdGlja3lIZWFkZXJDb21wb25lbnQ/OiBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlLFxuICAvKipcbiAgICogV2hlbiBgc25hcFRvSW50ZXJ2YWxgIGlzIHNldCwgYHNuYXBUb0FsaWdubWVudGAgd2lsbCBkZWZpbmUgdGhlIHJlbGF0aW9uc2hpcFxuICAgKiBvZiB0aGUgc25hcHBpbmcgdG8gdGhlIHNjcm9sbCB2aWV3LlxuICAgKlxuICAgKiAgIC0gYCdzdGFydCdgICh0aGUgZGVmYXVsdCkgd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgbGVmdCAoaG9yaXpvbnRhbCkgb3IgdG9wICh2ZXJ0aWNhbClcbiAgICogICAtIGAnY2VudGVyJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBpbiB0aGUgY2VudGVyXG4gICAqICAgLSBgJ2VuZCdgIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIHJpZ2h0IChob3Jpem9udGFsKSBvciBib3R0b20gKHZlcnRpY2FsKVxuICAgKi9cbiAgc25hcFRvQWxpZ25tZW50PzogPygnc3RhcnQnIHwgJ2NlbnRlcicgfCAnZW5kJyksXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IG11bHRpcGxlcyBvZiB0aGUgdmFsdWUgb2ZcbiAgICogYHNuYXBUb0ludGVydmFsYC4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYHNuYXBUb0FsaWdubWVudGAgYW5kIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBwcm9wLlxuICAgKi9cbiAgc25hcFRvSW50ZXJ2YWw/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCB0aGUgZGVmaW5lZCBvZmZzZXRzLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggdmFyaW91c2x5IHNpemVkIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIGFuZCBgc25hcFRvSW50ZXJ2YWxgIHByb3BzLlxuICAgKi9cbiAgc25hcFRvT2Zmc2V0cz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgYmVnaW5uaW5nXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb1N0YXJ0YCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgc3RhcnQgYW5kXG4gICAqIHRoZSBmaXJzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvU3RhcnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGVuZFxuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9FbmRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBlbmQgYW5kXG4gICAqIHRoZSBsYXN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9FbmQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEV4cGVyaW1lbnRhbDogV2hlbiB0cnVlLCBvZmZzY3JlZW4gY2hpbGQgdmlld3MgKHdob3NlIGBvdmVyZmxvd2AgdmFsdWUgaXNcbiAgICogYGhpZGRlbmApIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgbmF0aXZlIGJhY2tpbmcgc3VwZXJ2aWV3IHdoZW4gb2Zmc2NyZWVuLlxuICAgKiBUaGlzIGNhbiBpbXByb3ZlIHNjcm9sbGluZyBwZXJmb3JtYW5jZSBvbiBsb25nIGxpc3RzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpc1xuICAgKiB0cnVlLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIFJlZnJlc2hDb250cm9sIGNvbXBvbmVudCwgdXNlZCB0byBwcm92aWRlIHB1bGwtdG8tcmVmcmVzaFxuICAgKiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgU2Nyb2xsVmlldy4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgU2Nyb2xsVmlld3NcbiAgICogKGBob3Jpem9udGFsYCBwcm9wIG11c3QgYmUgYGZhbHNlYCkuXG4gICAqXG4gICAqIFNlZSBbUmVmcmVzaENvbnRyb2xdKGRvY3MvcmVmcmVzaGNvbnRyb2wuaHRtbCkuXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV0gLSBob3cgdG8gaGFuZGxlIGdlbmVyaWMgdHlwZSB3aXRob3V0IGV4aXN0ZW50aWFsXG4gICAqIG9wZXJhdG9yPyAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIGNoaWxkcmVuPzogUmVhY3QuTm9kZSxcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBpbm5lciBWaWV3IGVsZW1lbnQgb2YgdGhlIFNjcm9sbFZpZXcuIFRoaXMgc2hvdWxkIGJlIHVzZWRcbiAgICogaW5zdGVhZCBvZiBjYWxsaW5nIGBnZXRJbm5lclZpZXdSZWZgLlxuICAgKi9cbiAgaW5uZXJWaWV3UmVmPzogRm9yd2FyZGVkUmVmPElubmVyVmlld0luc3RhbmNlPixcbiAgLyoqXG4gICAqIEEgcmVmIHRvIHRoZSBOYXRpdmUgU2Nyb2xsVmlldyBjb21wb25lbnQuIFRoaXMgcmVmIGNhbiBiZSB1c2VkIHRvIGNhbGxcbiAgICogYWxsIG9mIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcywgaW4gYWRkaXRpb24gdG8gbmF0aXZlIG1ldGhvZHMgbGlrZVxuICAgKiBtZWFzdXJlLCBtZWFzdXJlTGF5b3V0LCBldGMuXG4gICAqL1xuICBzY3JvbGxWaWV3UmVmPzogRm9yd2FyZGVkUmVmPFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZT4sXG58fT47XG5cbnR5cGUgU3RhdGUgPSB7fFxuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG58fTtcblxuY29uc3QgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyA9IDE2O1xuXG5leHBvcnQgdHlwZSBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyA9ICRSZWFkT25seTx7fFxuICBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQsXG58fT47XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgd3JhcHMgcGxhdGZvcm0gU2Nyb2xsVmlldyB3aGlsZSBwcm92aWRpbmdcbiAqIGludGVncmF0aW9uIHdpdGggdG91Y2ggbG9ja2luZyBcInJlc3BvbmRlclwiIHN5c3RlbS5cbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBTY3JvbGxWaWV3cyBtdXN0IGhhdmUgYSBib3VuZGVkIGhlaWdodCBpbiBvcmRlciB0byB3b3JrLFxuICogc2luY2UgdGhleSBjb250YWluIHVuYm91bmRlZC1oZWlnaHQgY2hpbGRyZW4gaW50byBhIGJvdW5kZWQgY29udGFpbmVyICh2aWFcbiAqIGEgc2Nyb2xsIGludGVyYWN0aW9uKS4gSW4gb3JkZXIgdG8gYm91bmQgdGhlIGhlaWdodCBvZiBhIFNjcm9sbFZpZXcsIGVpdGhlclxuICogc2V0IHRoZSBoZWlnaHQgb2YgdGhlIHZpZXcgZGlyZWN0bHkgKGRpc2NvdXJhZ2VkKSBvciBtYWtlIHN1cmUgYWxsIHBhcmVudFxuICogdmlld3MgaGF2ZSBib3VuZGVkIGhlaWdodC4gRm9yZ2V0dGluZyB0byB0cmFuc2ZlciBge2ZsZXg6IDF9YCBkb3duIHRoZVxuICogdmlldyBzdGFjayBjYW4gbGVhZCB0byBlcnJvcnMgaGVyZSwgd2hpY2ggdGhlIGVsZW1lbnQgaW5zcGVjdG9yIG1ha2VzXG4gKiBlYXN5IHRvIGRlYnVnLlxuICpcbiAqIERvZXNuJ3QgeWV0IHN1cHBvcnQgb3RoZXIgY29udGFpbmVkIHJlc3BvbmRlcnMgZnJvbSBibG9ja2luZyB0aGlzIHNjcm9sbFxuICogdmlldyBmcm9tIGJlY29taW5nIHRoZSByZXNwb25kZXIuXG4gKlxuICpcbiAqIGA8U2Nyb2xsVmlldz5gIHZzIFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpIC0gd2hpY2ggb25lIHRvIHVzZT9cbiAqXG4gKiBgU2Nyb2xsVmlld2Agc2ltcGx5IHJlbmRlcnMgYWxsIGl0cyByZWFjdCBjaGlsZCBjb21wb25lbnRzIGF0IG9uY2UuIFRoYXRcbiAqIG1ha2VzIGl0IHZlcnkgZWFzeSB0byB1bmRlcnN0YW5kIGFuZCB1c2UuXG4gKlxuICogT24gdGhlIG90aGVyIGhhbmQsIHRoaXMgaGFzIGEgcGVyZm9ybWFuY2UgZG93bnNpZGUuIEltYWdpbmUgeW91IGhhdmUgYSB2ZXJ5XG4gKiBsb25nIGxpc3Qgb2YgaXRlbXMgeW91IHdhbnQgdG8gZGlzcGxheSwgbWF5YmUgc2V2ZXJhbCBzY3JlZW5zIHdvcnRoIG9mXG4gKiBjb250ZW50LiBDcmVhdGluZyBKUyBjb21wb25lbnRzIGFuZCBuYXRpdmUgdmlld3MgZm9yIGV2ZXJ5dGhpbmcgYWxsIGF0IG9uY2UsXG4gKiBtdWNoIG9mIHdoaWNoIG1heSBub3QgZXZlbiBiZSBzaG93biwgd2lsbCBjb250cmlidXRlIHRvIHNsb3cgcmVuZGVyaW5nIGFuZFxuICogaW5jcmVhc2VkIG1lbW9yeSB1c2FnZS5cbiAqXG4gKiBUaGlzIGlzIHdoZXJlIGBGbGF0TGlzdGAgY29tZXMgaW50byBwbGF5LiBgRmxhdExpc3RgIHJlbmRlcnMgaXRlbXMgbGF6aWx5LFxuICoganVzdCB3aGVuIHRoZXkgYXJlIGFib3V0IHRvIGFwcGVhciwgYW5kIHJlbW92ZXMgaXRlbXMgdGhhdCBzY3JvbGwgd2F5IG9mZlxuICogc2NyZWVuIHRvIHNhdmUgbWVtb3J5IGFuZCBwcm9jZXNzaW5nIHRpbWUuXG4gKlxuICogYEZsYXRMaXN0YCBpcyBhbHNvIGhhbmR5IGlmIHlvdSB3YW50IHRvIHJlbmRlciBzZXBhcmF0b3JzIGJldHdlZW4geW91ciBpdGVtcyxcbiAqIG11bHRpcGxlIGNvbHVtbnMsIGluZmluaXRlIHNjcm9sbCBsb2FkaW5nLCBvciBhbnkgbnVtYmVyIG9mIG90aGVyIGZlYXR1cmVzIGl0XG4gKiBzdXBwb3J0cyBvdXQgb2YgdGhlIGJveC5cbiAqL1xuY2xhc3MgU2Nyb2xsVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUgPSBuZXcgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZShcbiAgICAgIHRoaXMucHJvcHMuY29udGVudE9mZnNldD8ueSA/PyAwLFxuICAgICk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQodGhpcy5wcm9wcy5jb250ZW50SW5zZXQ/LnRvcCA/PyAwKTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlO1xuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQ6ID97ZGV0YWNoOiAoKSA9PiB2b2lkLCAuLi59ID0gbnVsbDtcbiAgX3N0aWNreUhlYWRlclJlZnM6IE1hcDxzdHJpbmcsIFJlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4+ID1cbiAgICBuZXcgTWFwKCk7XG4gIF9oZWFkZXJMYXlvdXRZczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBfa2V5Ym9hcmRNZXRyaWNzOiA/S2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ6IG51bWJlciA9IDA7XG4gIF9pc1RvdWNoaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU6IG51bWJlciA9IDA7XG4gIF9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lOiBudW1iZXIgPSAwO1xuXG4gIC8vIFJlc2V0IHRvIGZhbHNlIGV2ZXJ5IHRpbWUgYmVjb21lcyByZXNwb25kZXIuIFRoaXMgaXMgdXNlZCB0bzpcbiAgLy8gLSBEZXRlcm1pbmUgaWYgdGhlIHNjcm9sbCB2aWV3IGhhcyBiZWVuIHNjcm9sbGVkIGFuZCB0aGVyZWZvcmUgc2hvdWxkXG4gIC8vIHJlZnVzZSB0byBnaXZlIHVwIGl0cyByZXNwb25kZXIgbG9jay5cbiAgLy8gLSBEZXRlcm1pbmUgaWYgcmVsZWFzaW5nIHNob3VsZCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aGVuIHdlIGFyZSBpblxuICAvLyB0YXAtdG8tZGlzbWlzcyBtb2RlICh0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09ICdhbHdheXMnKS5cbiAgX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBfYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldDogP2Jvb2xlYW4gPSBudWxsO1xuXG4gIF9hbmltYXRlZDogP2Jvb2xlYW4gPSBudWxsO1xuXG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZTogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZTogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPXske1xuICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgICAgfX0nIGlzIGRlcHJlY2F0ZWQuIGAgK1xuICAgICAgICAgIGBVc2UgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9XCIke1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID8gJ2Fsd2F5cycgOiAnbmV2ZXInXG4gICAgICAgICAgfVwiJyBpbnN0ZWFkYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gS2V5Ym9hcmQubWV0cmljcygpO1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlLFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlLFxuICAgICk7XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHByZXZDb250ZW50SW5zZXRUb3AgPSBwcmV2UHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHByZXZQcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgY29uc3QgbmV3Q29udGVudEluc2V0VG9wID0gdGhpcy5wcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgaWYgKHByZXZDb250ZW50SW5zZXRUb3AgIT09IG5ld0NvbnRlbnRJbnNldFRvcCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQobmV3Q29udGVudEluc2V0VG9wIHx8IDApO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXI6ICgpID0+IFNjcm9sbFJlc3BvbmRlclR5cGUgPSAoKSA9PiB7XG4gICAgLy8gJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdXG4gICAgcmV0dXJuICgodGhpczogYW55KTogU2Nyb2xsUmVzcG9uZGVyVHlwZSk7XG4gIH07XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICgpID0+ID9udW1iZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UpO1xuICB9O1xuXG4gIGdldElubmVyVmlld05vZGU6ICgpID0+ID9udW1iZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlKHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZSk7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3UmVmOiAoKSA9PiBJbm5lclZpZXdJbnN0YW5jZSB8IG51bGwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZTtcbiAgfTtcblxuICBnZXROYXRpdmVTY3JvbGxSZWY6ICgpID0+IE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZSB8IG51bGwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdG8gYSBnaXZlbiB4LCB5IG9mZnNldCwgZWl0aGVyIGltbWVkaWF0ZWx5IG9yIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgc2Nyb2xsVG8oe3g6IDAsIHk6IDAsIGFuaW1hdGVkOiB0cnVlfSlgXG4gICAqXG4gICAqIE5vdGU6IFRoZSB3ZWlyZCBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQsIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMsXG4gICAqIHRoZSBmdW5jdGlvbiBhbHNvIGFjY2VwdHMgc2VwYXJhdGUgYXJndW1lbnRzIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogVGhpcyBpcyBkZXByZWNhdGVkIGR1ZSB0byBhbWJpZ3VpdHkgKHkgYmVmb3JlIHgpLCBhbmQgU0hPVUxEIE5PVCBCRSBVU0VELlxuICAgKi9cbiAgc2Nyb2xsVG86IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIGxldCB4LCB5LCBhbmltYXRlZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsVG8oeSwgeCwgYW5pbWF0ZWQpYCBpcyBkZXByZWNhdGVkLiBVc2UgYHNjcm9sbFRvKHt4OiA1LCB5OiA1LCAnICtcbiAgICAgICAgICAnYW5pbWF0ZWQ6IHRydWV9KWAgaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICAgIHkgPSBvcHRpb25zO1xuICAgICAgeCA9IGRlcHJlY2F0ZWRYO1xuICAgICAgYW5pbWF0ZWQgPSBkZXByZWNhdGVkQW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICB5ID0gb3B0aW9ucy55O1xuICAgICAgeCA9IG9wdGlvbnMueDtcbiAgICAgIGFuaW1hdGVkID0gb3B0aW9ucy5hbmltYXRlZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5zY3JvbGxUbyhcbiAgICAgIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICB4IHx8IDAsXG4gICAgICB5IHx8IDAsXG4gICAgICBhbmltYXRlZCAhPT0gZmFsc2UsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBhIHZlcnRpY2FsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgYm90dG9tLlxuICAgKiBJZiB0aGlzIGlzIGEgaG9yaXpvbnRhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIHJpZ2h0LlxuICAgKlxuICAgKiBVc2UgYHNjcm9sbFRvRW5kKHthbmltYXRlZDogdHJ1ZX0pYCBmb3Igc21vb3RoIGFuaW1hdGVkIHNjcm9sbGluZyxcbiAgICogYHNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KWAgZm9yIGltbWVkaWF0ZSBzY3JvbGxpbmcuXG4gICAqIElmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZCwgYGFuaW1hdGVkYCBkZWZhdWx0cyB0byB0cnVlLlxuICAgKi9cbiAgc2Nyb2xsVG9FbmQ6IChvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0pID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59LFxuICApID0+IHtcbiAgICAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICBjb25zdCBhbmltYXRlZCA9IChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZWQpICE9PSBmYWxzZTtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvRW5kKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UsIGFuaW1hdGVkKTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIHNjcm9sbCBpbmRpY2F0b3JzIG1vbWVudGFyaWx5LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5mbGFzaFNjcm9sbEluZGljYXRvcnModGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBjYWxsYmFjayB0byBvbkZvY3VzIGluIGEgVGV4dElucHV0cydcbiAgICogcGFyZW50IHZpZXcuIE5vdGUgdGhhdCBhbnkgbW9kdWxlIHVzaW5nIHRoaXMgbWl4aW4gbmVlZHMgdG8gcmV0dXJuXG4gICAqIHRoZSBwYXJlbnQgdmlldydzIHJlZiBpbiBnZXRTY3JvbGxWaWV3UmVmKCkgaW4gb3JkZXIgdG8gdXNlIHRoaXMgbWV0aG9kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbm9kZUhhbmRsZSBUaGUgVGV4dElucHV0IG5vZGUgaGFuZGxlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRpdGlvbmFsT2Zmc2V0IFRoZSBzY3JvbGwgdmlldydzIGJvdHRvbSBcImNvbnRlbnRJbnNldFwiLlxuICAgKiAgICAgICAgRGVmYXVsdCBpcyAwLlxuICAgKiBAcGFyYW0ge2Jvb2x9IHByZXZlbnROZWdhdGl2ZVNjcm9sbGluZyBXaGV0aGVyIHRvIGFsbG93IHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICogICAgICAgIGRvd24gdG8gbWFrZSBpdCBtZWV0IHRoZSBrZXlib2FyZCdzIHRvcC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6IDxUPihcbiAgICBub2RlSGFuZGxlOiBudW1iZXIgfCBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8VD4+LFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gPFQ+KFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxUPj4sXG4gICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICBwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gYWRkaXRpb25hbE9mZnNldCB8fCAwO1xuICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9ICEhcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBub2RlSGFuZGxlID09PSAnbnVtYmVyJykge1xuICAgICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIG5vZGVIYW5kbGUsXG4gICAgICAgIG51bGx0aHJvd3MoZmluZE5vZGVIYW5kbGUodGhpcykpLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICAgIHRoaXMuX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlSGFuZGxlLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuX2lubmVyVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHpvb20gdG8gYSBzcGVjaWZpYyByZWN0IGluIHRoZSBzY3JvbGx2aWV3LiBUaGUgYXJndW1lbnQgaGFzIHRoZSBzaGFwZVxuICAgKiB7eDogbnVtYmVyOyB5OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBhbmltYXRlZDogYm9vbGVhbiA9IHRydWV9XG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFJlc3BvbmRlclpvb21UbzogKFxuICAgIHJlY3Q6IHt8XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgfH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHZvaWQgPSAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4ge1xuICAgIGludmFyaWFudChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycsICd6b29tVG9SZWN0IGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIGlmICgnYW5pbWF0ZWQnIGluIHJlY3QpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGVkID0gcmVjdC5hbmltYXRlZDtcbiAgICAgIGRlbGV0ZSByZWN0LmFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFuaW1hdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFJlc3BvbmRlclpvb21Ub2AgYGFuaW1hdGVkYCBhcmd1bWVudCBpcyBkZXByZWNhdGVkLiBVc2UgYG9wdGlvbnMuYW5pbWF0ZWRgIGluc3RlYWQnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnpvb21Ub1JlY3QoXG4gICAgICB0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgcmVjdCxcbiAgICAgIGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICApO1xuICB9O1xuXG4gIF90ZXh0SW5wdXRGb2N1c0Vycm9yKCkge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgbWVhc3VyaW5nIHRleHQgZmllbGQuJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGN1bGF0aW9ucyBwZXJmb3JtZWQgaGVyZSBhc3N1bWUgdGhlIHNjcm9sbCB2aWV3IHRha2VzIHVwIHRoZSBlbnRpcmVcbiAgICogc2NyZWVuIC0gZXZlbiBpZiBoYXMgc29tZSBjb250ZW50IGluc2V0LiBXZSB0aGVuIG1lYXN1cmUgdGhlIG9mZnNldHMgb2YgdGhlXG4gICAqIGtleWJvYXJkLCBhbmQgY29tcGVuc2F0ZSBib3RoIGZvciB0aGUgc2Nyb2xsIHZpZXcncyBcImNvbnRlbnRJbnNldFwiLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBQb3NpdGlvbiBvZiBpbnB1dCB3LnIudC4gdGFibGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICovXG4gIF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkOiAoXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIHRvcDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICkgPT4gdm9pZCA9IChsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGxldCBrZXlib2FyZFNjcmVlblkgPSBEaW1lbnNpb25zLmdldCgnd2luZG93JykuaGVpZ2h0O1xuXG4gICAgY29uc3Qgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsKSB7XG4gICAgICAgIGtleWJvYXJkU2NyZWVuWSA9IHRoaXMuX2tleWJvYXJkTWV0cmljcy5zY3JlZW5ZO1xuICAgICAgfVxuICAgICAgbGV0IHNjcm9sbE9mZnNldFkgPVxuICAgICAgICB0b3AgLSBrZXlib2FyZFNjcmVlblkgKyBoZWlnaHQgKyB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0O1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCB0aGlzIGNhbiBzY3JvbGwgd2l0aCBuZWdhdGl2ZSBvZmZzZXQsIHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICAgIC8vIGRvd24gc28gdGhhdCB0aGUgdGFyZ2V0IGNvbXBvbmVudCdzIGJvdHRvbSBtZWV0cyB0aGUga2V5Ym9hcmQncyB0b3AuXG4gICAgICAvLyBJZiByZXF1ZXN0ZWQgb3RoZXJ3aXNlLCBjYXAgdGhlIG9mZnNldCBhdCAwIG1pbmltdW0gdG8gYXZvaWQgY29udGVudFxuICAgICAgLy8gc2hpZnRpbmcgZG93bi5cbiAgICAgIGlmICh0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxUbyh7eDogMCwgeTogc2Nyb2xsT2Zmc2V0WSwgYW5pbWF0ZWQ6IHRydWV9KTtcblxuICAgICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG4gICAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2tleWJvYXJkTWV0cmljcyA9PSBudWxsKSB7XG4gICAgICAvLyBgX2tleWJvYXJkTWV0cmljc2AgaXMgc2V0IGluc2lkZSBgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvd2Agd2hpY2hcbiAgICAgIC8vIGlzIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCBidXQgbmF0aXZlIGhhcyBhbHJlYWR5IHNjaGVkdWxlZCBpdC5cbiAgICAgIC8vIEluIGNhc2UgaXQgd2FzIG5vdCBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAsIHdlIHBvc3Rwb25lIHNjcm9sbGluZyB0b1xuICAgICAgLy8gdGV4dCBpbnB1dC5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgX2dldEtleUZvckluZGV4KGluZGV4OiAkRmxvd0ZpeE1lLCBjaGlsZEFycmF5OiAkRmxvd0ZpeE1lKTogJEZsb3dGaXhNZSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZEFycmF5W2luZGV4XTtcbiAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQua2V5O1xuICB9XG5cbiAgX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzICYmXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQgPVxuICAgICAgICBBbmltYXRlZEltcGxlbWVudGF0aW9uLmF0dGFjaE5hdGl2ZUV2ZW50KFxuICAgICAgICAgIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgICBbe25hdGl2ZUV2ZW50OiB7Y29udGVudE9mZnNldDoge3k6IHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9fX1dLFxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGlja3lIZWFkZXJSZWYoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcmVmOiA/UmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5zZXQoa2V5LCByZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIF9vblN0aWNreUhlYWRlckxheW91dChpbmRleDogJEZsb3dGaXhNZSwgZXZlbnQ6ICRGbG93Rml4TWUsIGtleTogJEZsb3dGaXhNZSkge1xuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzdGlja3lIZWFkZXJJbmRpY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5PCRGbG93Rml4TWU+KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGlmIChrZXkgIT09IHRoaXMuX2dldEtleUZvckluZGV4KGluZGV4LCBjaGlsZEFycmF5KSkge1xuICAgICAgLy8gaWdub3JlIHN0YWxlIGxheW91dCB1cGRhdGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXRZID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0Lnk7XG4gICAgdGhpcy5faGVhZGVyTGF5b3V0WXMuc2V0KGtleSwgbGF5b3V0WSk7XG5cbiAgICBjb25zdCBpbmRleE9mSW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpO1xuICAgIGNvbnN0IHByZXZpb3VzSGVhZGVySW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCAtIDFdO1xuICAgIGlmIChwcmV2aW91c0hlYWRlckluZGV4ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVhZGVyID0gdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5nZXQoXG4gICAgICAgIHRoaXMuX2dldEtleUZvckluZGV4KHByZXZpb3VzSGVhZGVySW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzSGVhZGVyICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZICYmXG4gICAgICAgIHByZXZpb3VzSGVhZGVyLnNldE5leHRIZWFkZXJZKGxheW91dFkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGwgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmXG4gICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSA9PSBudWxsICYmXG4gICAgICAgIFBsYXRmb3JtLk9TID09PSAnaW9zJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICdZb3Ugc3BlY2lmaWVkIGBvblNjcm9sbGAgb24gYSA8U2Nyb2xsVmlldz4gYnV0IG5vdCAnICtcbiAgICAgICAgICAgICdgc2Nyb2xsRXZlbnRUaHJvdHRsZWAuIFlvdSB3aWxsIG9ubHkgcmVjZWl2ZSBvbmUgZXZlbnQuICcgK1xuICAgICAgICAgICAgJ1VzaW5nIGAxNmAgeW91IGdldCBhbGwgdGhlIGV2ZW50cyBidXQgYmUgYXdhcmUgdGhhdCBpdCBtYXkgJyArXG4gICAgICAgICAgICBcImNhdXNlIGZyYW1lIGRyb3BzLCB1c2UgYSBiaWdnZXIgbnVtYmVyIGlmIHlvdSBkb24ndCBuZWVkIGFzIFwiICtcbiAgICAgICAgICAgICdtdWNoIHByZWNpc2lvbi4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiYgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgfTtcblxuICBfaGFuZGxlTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bGF5b3V0SGVpZ2h0OiBlLm5hdGl2ZUV2ZW50LmxheW91dC5oZWlnaHR9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25MYXlvdXQpIHtcbiAgICAgIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVDb250ZW50T25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBlLm5hdGl2ZUV2ZW50LmxheW91dDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiZcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcblxuICBfaW5uZXJWaWV3OiBSZWZGb3J3YXJkZXI8SW5uZXJWaWV3SW5zdGFuY2UsIElubmVyVmlld0luc3RhbmNlPiA9XG4gICAgY3JlYXRlUmVmRm9yd2FyZGVyKFxuICAgICAgKGluc3RhbmNlOiBJbm5lclZpZXdJbnN0YW5jZSk6IElubmVyVmlld0luc3RhbmNlID0+IGluc3RhbmNlLFxuICAgICk7XG5cbiAgX3Njcm9sbFZpZXc6IFJlZkZvcndhcmRlcjxcbiAgICBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UsXG4gICAgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlLFxuICA+ID0gY3JlYXRlUmVmRm9yd2FyZGVyKFxuICAgIChuYXRpdmVJbnN0YW5jZTogTmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlKTogUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgYSBoYWNrLiBJZGVhbGx5IHdlIHdvdWxkIGZvcndhcmRSZWYgIHRvIHRoZSB1bmRlcmx5aW5nXG4gICAgICAvLyBob3N0IGNvbXBvbmVudC4gSG93ZXZlciwgc2luY2UgU2Nyb2xsVmlldyBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgLy8gY2FsbGVkIGFzIHdlbGwsIGlmIHdlIHVzZWQgdGhlIHN0YW5kYXJkIGZvcndhcmRSZWYgdGhlbiB0aGVzZVxuICAgICAgLy8gbWV0aG9kcyB3b3VsZG4ndCBiZSBhY2Nlc3NpYmxlIGFuZCB0aHVzIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuICAgICAgLy9cbiAgICAgIC8vIFRoZXJlZm9yZSB3ZSBlZGl0IHJlZiB0byBpbmNsdWRlIFNjcm9sbFZpZXcncyBwdWJsaWMgbWV0aG9kcyBzbyB0aGF0XG4gICAgICAvLyB0aGV5IGFyZSBjYWxsYWJsZSBmcm9tIHRoZSByZWYuXG5cbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAtIEtub3duIGlzc3VlIHdpdGggYXBwZW5kaW5nIGN1c3RvbSBtZXRob2RzLlxuICAgICAgY29uc3QgcHVibGljSW5zdGFuY2U6IFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIG5hdGl2ZUluc3RhbmNlLFxuICAgICAgICB7XG4gICAgICAgICAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiB0aGlzLmdldFNjcm9sbFJlc3BvbmRlcixcbiAgICAgICAgICBnZXRTY3JvbGxhYmxlTm9kZTogdGhpcy5nZXRTY3JvbGxhYmxlTm9kZSxcbiAgICAgICAgICBnZXRJbm5lclZpZXdOb2RlOiB0aGlzLmdldElubmVyVmlld05vZGUsXG4gICAgICAgICAgZ2V0SW5uZXJWaWV3UmVmOiB0aGlzLmdldElubmVyVmlld1JlZixcbiAgICAgICAgICBnZXROYXRpdmVTY3JvbGxSZWY6IHRoaXMuZ2V0TmF0aXZlU2Nyb2xsUmVmLFxuICAgICAgICAgIHNjcm9sbFRvOiB0aGlzLnNjcm9sbFRvLFxuICAgICAgICAgIHNjcm9sbFRvRW5kOiB0aGlzLnNjcm9sbFRvRW5kLFxuICAgICAgICAgIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogdGhpcy5mbGFzaFNjcm9sbEluZGljYXRvcnMsXG4gICAgICAgICAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiB0aGlzLnNjcm9sbFJlc3BvbmRlclpvb21UbyxcbiAgICAgICAgICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOlxuICAgICAgICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkLFxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHB1YmxpY0luc3RhbmNlO1xuICAgIH0sXG4gICk7XG5cbiAgLyoqXG4gICAqIFdhcm5pbmcsIHRoaXMgbWF5IGJlIGNhbGxlZCBzZXZlcmFsIHRpbWVzIGZvciBhIHNpbmdsZSBrZXlib2FyZCBvcGVuaW5nLlxuICAgKiBJdCdzIGJlc3QgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHRha2UgYW55IGFjdGlvblxuICAgKiBhdCBhIGxhdGVyIHBvaW50IChlaXRoZXIgaW4gYGtleWJvYXJkRGlkU2hvd2Agb3Igb3RoZXIpLlxuICAgKlxuICAgKiBIZXJlJ3MgdGhlIG9yZGVyIHRoYXQgZXZlbnRzIG9jY3VyIGluOlxuICAgKiAtIGZvY3VzXG4gICAqIC0gd2lsbFNob3cge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkU2hvdyBzZXZlcmFsIHRpbWVzXG4gICAqIC0gYmx1clxuICAgKiAtIHdpbGxIaWRlIHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZEhpZGUgc2V2ZXJhbCB0aW1lc1xuICAgKlxuICAgKiBUaGUgYFNjcm9sbFJlc3BvbmRlcmAgbW9kdWxlIGNhbGxiYWNrcyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMuXG4gICAqIEV2ZW4gdGhvdWdoIGFueSB1c2VyIGNvdWxkIGhhdmUgZWFzaWx5IGxpc3RlbmVkIHRvIGtleWJvYXJkIGV2ZW50c1xuICAgKiB0aGVtc2VsdmVzLCB1c2luZyB0aGVzZSBgcHJvcHNgIGNhbGxiYWNrcyBlbnN1cmVzIHRoYXQgb3JkZXJpbmcgb2YgZXZlbnRzXG4gICAqIGlzIGNvbnNpc3RlbnQgLSBhbmQgbm90IGRlcGVuZGVudCBvbiB0aGUgb3JkZXIgdGhhdCB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZVxuICAgKiBzdWJzY3JpYmVkIHRvLiBUaGlzIG1hdHRlcnMgd2hlbiB0ZWxsaW5nIHRoZSBzY3JvbGwgdmlldyB0byBzY3JvbGwgdG8gd2hlcmVcbiAgICogdGhlIGtleWJvYXJkIGlzIGhlYWRlZCAtIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGJldHRlciBoYXZlIGJlZW4gbm90aWZpZWQgb2ZcbiAgICogdGhlIGtleWJvYXJkIGRlc3RpbmF0aW9uIGJlZm9yZSBiZWluZyBpbnN0cnVjdGVkIHRvIHNjcm9sbCB0byB3aGVyZSB0aGVcbiAgICoga2V5Ym9hcmQgd2lsbCBiZS4gU3RpY2sgdG8gdGhlIGBTY3JvbGxSZXNwb25kZXJgIGNhbGxiYWNrcywgYW5kIGV2ZXJ5dGhpbmdcbiAgICogd2lsbCB3b3JrLlxuICAgKlxuICAgKiBXQVJOSU5HOiBUaGVzZSBjYWxsYmFja3Mgd2lsbCBmaXJlIGV2ZW4gaWYgYSBrZXlib2FyZCBpcyBkaXNwbGF5ZWQgaW4gYVxuICAgKiBkaWZmZXJlbnQgbmF2aWdhdGlvbiBwYW5lLiBGaWx0ZXIgb3V0IHRoZSBldmVudHMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAqIHJlbGV2YW50IHRvIHlvdS4gKEZvciBleGFtcGxlLCBvbmx5IGlmIHlvdSByZWNlaXZlIHRoZXNlIGNhbGxiYWNrcyBhZnRlclxuICAgKiB5b3UgaGFkIGV4cGxpY2l0bHkgZm9jdXNlZCBhIG5vZGUgZXRjKS5cbiAgICovXG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gZS5lbmRDb29yZGluYXRlcztcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlKGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gZS5lbmRDb29yZGluYXRlcztcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZShlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxFbmRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmZvcnR1bmF0ZWx5LCBgb25TY3JvbGxCZWdpbkRyYWdgIGFsc28gZmlyZXMgd2hlbiAqc3RvcHBpbmcqIHRoZSBzY3JvbGxcbiAgICogYW5pbWF0aW9uLCBhbmQgdGhlcmUncyBub3QgYW4gZWFzeSB3YXkgdG8gZGlzdGluZ3Vpc2ggYSBkcmFnIHZzLiBzdG9wcGluZ1xuICAgKiBtb21lbnR1bS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxCZWdpbkRyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEJlZ2luRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmJlZ2luU2Nyb2xsKCk7IC8vIFRPRE86IHRyYWNrIGFsbCBzY3JvbGxzIGFmdGVyIGltcGxlbWVudGluZyBvblNjcm9sbEVuZEFuaW1hdGlvblxuXG4gICAgaWYgKFxuICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZydcbiAgICApIHtcbiAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxFbmREcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxFbmREcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICAvLyAtIElmIHdlIGFyZSBhbmltYXRpbmcsIHRoZW4gdGhpcyBpcyBhIFwiZHJhZ1wiIHRoYXQgaXMgc3RvcHBpbmcgdGhlIHNjcm9sbHZpZXcgYW5kIG1vbWVudHVtIGVuZFxuICAgIC8vICAgd2lsbCBmaXJlLlxuICAgIC8vIC0gSWYgdmVsb2NpdHkgaXMgbm9uLXplcm8sIHRoZW4gdGhlIGludGVyYWN0aW9uIHdpbGwgc3RvcCB3aGVuIG1vbWVudHVtIHNjcm9sbCBlbmRzIG9yXG4gICAgLy8gICBhbm90aGVyIGRyYWcgc3RhcnRzIGFuZCBlbmRzLlxuICAgIC8vIC0gSWYgd2UgZG9uJ3QgZ2V0IHZlbG9jaXR5LCBiZXR0ZXIgdG8gc3RvcCB0aGUgaW50ZXJhY3Rpb24gdHdpY2UgdGhhbiBub3Qgc3RvcCBpdC5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5faXNBbmltYXRpbmcoKSAmJlxuICAgICAgKCF2ZWxvY2l0eSB8fCAodmVsb2NpdHkueCA9PT0gMCAmJiB2ZWxvY2l0eS55ID09PSAwKSlcbiAgICApIHtcbiAgICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGlzIGNsYXNzIHRoYXQgbGV0cyB1cyBxdWlja2x5IGRldGVybWluZSBpZiB0aGVcbiAgICogdmlldyBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgdG8ga25vdyB3aGVuXG4gICAqIGEgdG91Y2ggaGFzIGp1c3Qgc3RhcnRlZCBvciBlbmRlZC5cbiAgICovXG4gIF9pc0FuaW1hdGluZzogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kID1cbiAgICAgIG5vdyAtIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU7XG4gICAgY29uc3QgaXNBbmltYXRpbmcgPVxuICAgICAgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIDwgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyB8fFxuICAgICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA8IHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTtcbiAgICByZXR1cm4gaXNBbmltYXRpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlckdyYW50OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50ICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudChlKTtcbiAgICB0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyA9IHRoaXMuX2lzQW5pbWF0aW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVqZWN0YCBldmVudC5cbiAgICpcbiAgICogU29tZSBvdGhlciBlbGVtZW50IGlzIG5vdCB5aWVsZGluZyBpdHMgcm9sZSBhcyByZXNwb25kZXIuIE5vcm1hbGx5LCB3ZSdkXG4gICAqIGp1c3QgZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AsIGJ1dCBhIHRvdWNoIGhhcyBhbHJlYWR5IGJlZ2FuIG9uIGl0LCB0aGVcbiAgICogYFVJU2Nyb2xsVmlld2Agd2lsbCBub3QgYWNjZXB0IGJlaW5nIGRpc2FibGVkIGFmdGVyIHRoYXQuIFRoZSBlYXNpZXN0XG4gICAqIHNvbHV0aW9uIGZvciBub3cgaXMgdG8gYWNjZXB0IHRoZSBsaW1pdGF0aW9uIG9mIGRpc2FsbG93aW5nIHRoaXNcbiAgICogYWx0b2dldGhlci4gVG8gaW1wcm92ZSB0aGlzLCBmaW5kIGEgd2F5IHRvIGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgIGFmdGVyXG4gICAqIGEgdG91Y2ggaGFzIGFscmVhZHkgc3RhcnRlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWplY3Q6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWxlYXNlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGUubmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UoZSk7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0IHNjcm9sbCB2aWV3cyB3aWxsIHVuZm9jdXMgYSB0ZXh0RmllbGRcbiAgICAvLyBpZiBhbm90aGVyIHRvdWNoIG9jY3VycyBvdXRzaWRlIG9mIGl0XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSB0cnVlICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09ICdhbHdheXMnICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgJiZcbiAgICAgICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgJiZcbiAgICAgICF0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZ1xuICAgICkge1xuICAgICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdlIHdpbGwgYWxsb3cgdGhlIHNjcm9sbCB2aWV3IHRvIGdpdmUgdXAgaXRzIGxvY2sgaWZmIGl0IGFjcXVpcmVkIHRoZSBsb2NrXG4gICAqIGR1cmluZyBhbiBhbmltYXRpb24uIFRoaXMgaXMgYSB2ZXJ5IHVzZWZ1bCBkZWZhdWx0IHRoYXQgaGFwcGVucyB0byBzYXRpc2Z5XG4gICAqIG1hbnkgY29tbW9uIHVzZXIgZXhwZXJpZW5jZXMuXG4gICAqXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBvbiB0aGUgbGVmdCBlZGdlLCB0aGVuIHR1cm4gdGhhdCBpbnRvIGFuIG91dGVyIHZpZXcnc1xuICAgKiAgIGJhY2tzd2lwZS5cbiAgICogLSBTdG9wIGEgc2Nyb2xsIG1pZC1ib3VuY2UgYXQgdGhlIHRvcCwgY29udGludWUgcHVsbGluZyB0byBoYXZlIHRoZSBvdXRlclxuICAgKiAgIHZpZXcgZGlzbWlzcy5cbiAgICogLSBIb3dldmVyLCB3aXRob3V0IGNhdGNoaW5nIHRoZSBzY3JvbGwgdmlldyBtaWQtYm91bmNlICh3aGlsZSBpdCBpc1xuICAgKiAgIG1vdGlvbmxlc3MpLCBpZiB5b3UgZHJhZyBmYXIgZW5vdWdoIGZvciB0aGUgc2Nyb2xsIHZpZXcgdG8gYmVjb21lXG4gICAqICAgcmVzcG9uZGVyIChhbmQgdGhlcmVmb3JlIGRyYWcgdGhlIHNjcm9sbCB2aWV3IGEgYml0KSwgYW55IGJhY2tzd2lwZVxuICAgKiAgIG5hdmlnYXRpb24gb2YgYSBzd2lwZSBnZXN0dXJlIGhpZ2hlciBpbiB0aGUgdmlldyBoaWVyYXJjaHksIHNob3VsZCBiZVxuICAgKiAgIHJlamVjdGVkLlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICByZXR1cm4gIXRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlcjtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXNUb3VjaGluZztcbiAgfTtcblxuICAvKipcbiAgICogTWVyZWx5IHRvdWNoIHN0YXJ0aW5nIGlzIG5vdCBzdWZmaWNpZW50IGZvciBhIHNjcm9sbCB2aWV3IHRvIGJlY29tZSB0aGVcbiAgICogcmVzcG9uZGVyLiBCZWluZyB0aGUgXCJyZXNwb25kZXJcIiBtZWFucyB0aGF0IHRoZSB2ZXJ5IG5leHQgdG91Y2ggbW92ZS9lbmRcbiAgICogZXZlbnQgd2lsbCByZXN1bHQgaW4gYW4gYWN0aW9uL21vdmVtZW50LlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBldmVudC5cbiAgICpcbiAgICogYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgIGlzIHVzZWQgd2hlbiB0aGUgbmV4dCBtb3ZlL2VuZCB3aWxsIHRyaWdnZXJcbiAgICogc29tZSBVSSBtb3ZlbWVudC9hY3Rpb24sIGJ1dCB3aGVuIHlvdSB3YW50IHRvIHlpZWxkIHByaW9yaXR5IHRvIHZpZXdzXG4gICAqIG5lc3RlZCBpbnNpZGUgb2YgdGhlIHZpZXcuXG4gICAqXG4gICAqIFRoZXJlIG1heSBiZSBzb21lIGNhc2VzIHdoZXJlIHNjcm9sbCB2aWV3cyBhY3R1YWxseSBzaG91bGQgcmV0dXJuIGB0cnVlYFxuICAgKiBmcm9tIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYDogQW55IHRpbWUgd2UgYXJlIGRldGVjdGluZyBhIHN0YW5kYXJkIHRhcFxuICAgKiB0aGF0IGdpdmVzIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cy5cbiAgICpcbiAgICogLSBJZiBhIHNpbmdsZSB0YXAgb24gdGhlIHNjcm9sbCB2aWV3IHRyaWdnZXJzIGFuIGFjdGlvbiBzdWNoIGFzXG4gICAqICAgcmVjZW50ZXJpbmcgYSBtYXAgc3R5bGUgdmlldyB5ZXQgd2FudHMgdG8gZ2l2ZSBwcmlvcml0eSB0byBpbnRlcmFjdGlvblxuICAgKiAgIHZpZXdzIGluc2lkZSAoc3VjaCBhcyBkcm9wcGVkIHBpbnMgb3IgbGFiZWxzKSwgdGhlbiB3ZSB3b3VsZCByZXR1cm4gdHJ1ZVxuICAgKiAgIGZyb20gdGhpcyBtZXRob2Qgd2hlbiB0aGVyZSBpcyBhIHNpbmdsZSB0b3VjaC5cbiAgICpcbiAgICogLSBTaW1pbGFyIHRvIHRoZSBwcmV2aW91cyBjYXNlLCBpZiBhIHR3byBmaW5nZXIgXCJ0YXBcIiBzaG91bGQgdHJpZ2dlciBhXG4gICAqICAgem9vbSwgd2Ugd291bGQgY2hlY2sgdGhlIGB0b3VjaGVzYCBjb3VudCwgYW5kIGlmIGA+PSAyYCwgd2Ugd291bGQgcmV0dXJuXG4gICAqICAgdHJ1ZS5cbiAgICpcbiAgICovXG4gIF9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcjogKGU6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdoYW5kbGVkJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkSW5wdXRcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZXJlIGFyZSB0aW1lcyB3aGVuIHRoZSBzY3JvbGwgdmlldyB3YW50cyB0byBiZWNvbWUgdGhlIHJlc3BvbmRlclxuICAgKiAobWVhbmluZyByZXNwb25kIHRvIHRoZSBuZXh0IGltbWVkaWF0ZSBgdG91Y2hTdGFydC90b3VjaEVuZGApLCBpbiBhIHdheVxuICAgKiB0aGF0ICpkb2Vzbid0KiBnaXZlIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cyAoaGVuY2UgdGhlIGNhcHR1cmUgcGhhc2UpOlxuICAgKlxuICAgKiAtIEN1cnJlbnRseSBhbmltYXRpbmcuXG4gICAqIC0gVGFwcGluZyBhbnl3aGVyZSB0aGF0IGlzIG5vdCBhIHRleHQgaW5wdXQsIHdoaWxlIHRoZSBrZXlib2FyZCBpc1xuICAgKiAgIHVwICh3aGljaCBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQpLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBUaGUgc2Nyb2xsIHZpZXcgc2hvdWxkIHJlY2VpdmUgdGFwcyBpbnN0ZWFkIG9mIGl0cyBkZXNjZW5kYW50cyBpZjpcbiAgICAvLyAqIGl0IGlzIGFscmVhZHkgYW5pbWF0aW5nL2RlY2VsZXJhdGluZ1xuICAgIGlmICh0aGlzLl9pc0FuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICogdGhlIGtleWJvYXJkIGlzIHVwLCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIGlzICduZXZlcicgKHRoZSBkZWZhdWx0KSxcbiAgICAvLyBhbmQgYSBuZXcgdG91Y2ggc3RhcnRzIHdpdGggYSBub24tdGV4dGlucHV0IHRhcmdldCAoaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAvLyBmaXJzdCB0YXAgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHNjcm9sbCB2aWV3IGFuZCBkaXNtaXNzIHRoZSBrZXlib2FyZCxcbiAgICAvLyB0aGVuIHRoZSBzZWNvbmQgdGFwIGdvZXMgdG8gdGhlIGFjdHVhbCBpbnRlcmlvciB2aWV3KVxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBMZXQgcHJlc3NlcyB0aHJvdWdoIGlmIHRoZSBzb2Z0IGtleWJvYXJkIGlzIGRldGFjaGVkIGZyb20gdGhlIHZpZXdwb3J0XG4gICAgaWYgKHRoaXMuX3NvZnRLZXlib2FyZElzRGV0YWNoZWQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9IG51bGwgJiZcbiAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdXG4gICAgICAhVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoZS50YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERvIHdlIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgZGlzbWlzc2libGUgc29mdC1rZXlib2FyZCBvcGVuP1xuICAgKi9cbiAgX2tleWJvYXJkSXNEaXNtaXNzaWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcblxuICAgIC8vIFdlIGNhbm5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aXRob3V0IGFuIGlucHV0IHRvIGJsdXIsIGV2ZW4gaWYgYSBzb2Z0XG4gICAgLy8ga2V5Ym9hcmQgaXMgb3BlbiAoZS5nLiB3aGVuIGtleWJvYXJkIGlzIG9wZW4gZHVlIHRvIGEgbmF0aXZlIGNvbXBvbmVudFxuICAgIC8vIG5vdCBwYXJ0aWNpcGF0aW5nIGluIFRleHRJbnB1dFN0YXRlKS4gSXQncyBhbHNvIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgLy8gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgaXNuJ3QgYSBUZXh0SW5wdXQgKHN1Y2ggYXMgYnkgY2FsbGluZyByZWYuZm9jdXNcbiAgICAvLyBvbiBhIG5vbi1UZXh0SW5wdXQpLlxuICAgIGNvbnN0IGhhc0ZvY3VzZWRUZXh0SW5wdXQgPVxuICAgICAgY3VycmVudGx5Rm9jdXNlZElucHV0ICE9IG51bGwgJiZcbiAgICAgIFRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRJbnB1dCk7XG5cbiAgICAvLyBFdmVuIGlmIGFuIGlucHV0IGlzIGZvY3VzZWQsIHdlIG1heSBub3QgaGF2ZSBhIGtleWJvYXJkIHRvIGRpc21pc3MuIEUuZ1xuICAgIC8vIHdoZW4gdXNpbmcgYSBwaHlzaWNhbCBrZXlib2FyZC4gRW5zdXJlIHdlIGhhdmUgYW4gZXZlbnQgZm9yIGFuIG9wZW5lZFxuICAgIC8vIGtleWJvYXJkLlxuICAgIGNvbnN0IHNvZnRLZXlib2FyZE1heUJlT3BlbiA9XG4gICAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCB8fCB0aGlzLl9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGUoKTtcblxuICAgIHJldHVybiBoYXNGb2N1c2VkVGV4dElucHV0ICYmIHNvZnRLZXlib2FyZE1heUJlT3BlbjtcbiAgfTtcblxuICAvKipcbiAgICogV2hldGhlciBhbiBvcGVuIHNvZnQga2V5Ym9hcmQgaXMgcHJlc2VudCB3aGljaCBkb2VzIG5vdCBvdmVybGFwIHRoZVxuICAgKiB2aWV3cG9ydC4gRS5nLiBmb3IgYSBWUiBzb2Z0LWtleWJvYXJkIHdoaWNoIGlzIGRldGFjaGVkIGZyb20gdGhlIGFwcFxuICAgKiB2aWV3cG9ydC5cbiAgICovXG4gIF9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCAmJiB0aGlzLl9rZXlib2FyZE1ldHJpY3MuaGVpZ2h0ID09PSAwO1xuICB9O1xuXG4gIF9rZXlib2FyZEV2ZW50c0FyZVVucmVsaWFibGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQW5kcm9pZCB2ZXJzaW9ucyBwcmlvciB0byBBUEkgMzAgcmVseSBvbiBvYnNlcnZpbmcgbGF5b3V0IGNoYW5nZXMgd2hlblxuICAgIC8vIGBhbmRyb2lkOndpbmRvd1NvZnRJbnB1dE1vZGVgIGlzIHNldCB0byBgYWRqdXN0UmVzaXplYCBvciBgYWRqdXN0UGFuYC5cbiAgICByZXR1cm4gUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBQbGF0Zm9ybS5WZXJzaW9uIDwgMzA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hFbmRgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgRXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hFbmQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICBjb25zdCBuYXRpdmVFdmVudCA9IGUubmF0aXZlRXZlbnQ7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuXG4gICAgY29uc3Qge2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHN9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICAvLyBEaXNtaXNzIHRoZSBrZXlib2FyZCBub3cgaWYgd2UgZGlkbid0IGJlY29tZSByZXNwb25kZXIgaW4gY2FwdHVyZSBwaGFzZVxuICAgIC8vIHRvIGVhdCBwcmVzc2VzLCBidXQgc3RpbGwgd2FudCB0byBkaXNtaXNzIG9uIGludGVyYWN0aW9uLlxuICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoZSB0YXJnZXQgb2YgdGhlIHRvdWNoIGV2ZW50IGlzIHRoZSBjdXJyZW50IGlucHV0LlxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICB0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25Ub3VjaEVuZCAmJiB0aGlzLnByb3BzLm9uVG91Y2hFbmQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hDYW5jZWxgIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgRXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hDYW5jZWw6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsICYmIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaFN0YXJ0YCBldmVudC5cbiAgICpcbiAgICogU2luY2Ugd2Uga25vdyB0aGF0IHRoZSBgU2ltcGxlRXZlbnRQbHVnaW5gIG9jY3VycyBsYXRlciBpbiB0aGUgcGx1Z2luXG4gICAqIG9yZGVyLCBhZnRlciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLCB3ZSBjYW4gZGV0ZWN0IHRoYXQgd2Ugd2VyZSAqbm90KlxuICAgKiBwZXJtaXR0ZWQgdG8gYmUgdGhlIHJlc3BvbmRlciAocHJlc3VtYWJseSBiZWNhdXNlIGEgY29udGFpbmVkIHZpZXcgYmVjYW1lXG4gICAqIHJlc3BvbmRlcikuIFRoZSBgb25SZXNwb25kZXJSZWplY3RgIHdvbid0IGZpcmUgaW4gdGhhdCBjYXNlIC0gaXQgb25seVxuICAgKiBmaXJlcyB3aGVuIGEgKmN1cnJlbnQqIHJlc3BvbmRlciByZWplY3RzIG91ciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgVG91Y2ggU3RhcnQgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hTdGFydDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaFN0YXJ0ICYmIHRoaXMucHJvcHMub25Ub3VjaFN0YXJ0KGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoTW92ZWAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoTW92ZTogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Ub3VjaE1vdmUgJiYgdGhpcy5wcm9wcy5vblRvdWNoTW92ZShlKTtcbiAgfTtcblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB8IFJlYWN0LkVsZW1lbnQ8c3RyaW5nPiB7XG4gICAgY29uc3QgW05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldywgTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlld10gPVxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgID8gTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZVxuICAgICAgICA6IE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lclN0eWxlID0gW1xuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlICYmIHN0eWxlcy5jb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgIF07XG4gICAgaWYgKF9fREVWX18gJiYgdGhpcy5wcm9wcy5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50U2l6ZUNoYW5nZVByb3BzID1cbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHtcbiAgICAgICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICAgICAgfTtcblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheTwkRmxvd0ZpeE1lPihcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcbiAgICAgICk7XG5cbiAgICAgIGNoaWxkcmVuID0gY2hpbGRBcnJheS5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleE9mSW5kZXggPSBjaGlsZCA/IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCkgOiAtMTtcbiAgICAgICAgaWYgKGluZGV4T2ZJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4ICsgMV07XG4gICAgICAgICAgY29uc3QgU3RpY2t5SGVhZGVyQ29tcG9uZW50ID1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuU3RpY2t5SGVhZGVyQ29tcG9uZW50IHx8IFNjcm9sbFZpZXdTdGlja3lIZWFkZXI7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTdGlja3lIZWFkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgIG5hdGl2ZUlEPXsnU3RpY2t5SGVhZGVyLScgKyBrZXl9IC8qIFRPRE86IFQ2ODI1ODg0Ni4gKi9cbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgbmV4dEhlYWRlckxheW91dFk9e3RoaXMuX2hlYWRlckxheW91dFlzLmdldChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChuZXh0SW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBvbkxheW91dD17ZXZlbnQgPT4gdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpfVxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRlZFZhbHVlPXt0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfVxuICAgICAgICAgICAgICBpbnZlcnRlZD17dGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzfVxuICAgICAgICAgICAgICBoaWRkZW5PblNjcm9sbD17dGhpcy5wcm9wcy5zdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbH1cbiAgICAgICAgICAgICAgc2Nyb2xsVmlld0hlaWdodD17dGhpcy5zdGF0ZS5sYXlvdXRIZWlnaHR9PlxuICAgICAgICAgICAgICB7Y2hpbGR9XG4gICAgICAgICAgICA8L1N0aWNreUhlYWRlckNvbXBvbmVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNoaWxkcmVuID0gKFxuICAgICAgPFNjcm9sbFZpZXdDb250ZXh0LlByb3ZpZGVyXG4gICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgPyBIT1JJWk9OVEFMIDogVkVSVElDQUx9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1Njcm9sbFZpZXdDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG5cbiAgICBjb25zdCBoYXNTdGlja3lIZWFkZXJzID1cbiAgICAgIEFycmF5LmlzQXJyYXkoc3RpY2t5SGVhZGVySW5kaWNlcykgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IChcbiAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3XG4gICAgICAgIHsuLi5jb250ZW50U2l6ZUNoYW5nZVByb3BzfVxuICAgICAgICByZWY9e3RoaXMuX2lubmVyVmlldy5nZXRGb3J3YXJkaW5nUmVmKHRoaXMucHJvcHMuaW5uZXJWaWV3UmVmKX1cbiAgICAgICAgc3R5bGU9e2NvbnRlbnRDb250YWluZXJTdHlsZX1cbiAgICAgICAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPXtcbiAgICAgICAgICAvLyBTdWJ2aWV3IGNsaXBwaW5nIGNhdXNlcyBpc3N1ZXMgd2l0aCBzdGlja3kgaGVhZGVycyBvbiBBbmRyb2lkIGFuZFxuICAgICAgICAgIC8vIHdvdWxkIGJlIGhhcmQgdG8gZml4IHByb3Blcmx5IGluIGEgcGVyZm9ybWFudCB3YXkuXG4gICAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMucmVtb3ZlQ2xpcHBlZFN1YnZpZXdzXG4gICAgICAgIH1cbiAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3PlxuICAgICk7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VIb3Jpem9udGFsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsXG4gICAgICAgIDogdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlVmVydGljYWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbFxuICAgICAgICA6ICF0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBiYXNlU3R5bGUgPVxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgID8gc3R5bGVzLmJhc2VIb3Jpem9udGFsXG4gICAgICAgIDogc3R5bGVzLmJhc2VWZXJ0aWNhbDtcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBhbHdheXNCb3VuY2VIb3Jpem9udGFsLFxuICAgICAgYWx3YXlzQm91bmNlVmVydGljYWwsXG4gICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgdGhpcy5wcm9wcy5zdHlsZSksXG4gICAgICAvLyBPdmVycmlkZSB0aGUgb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIHByb3BzLCBzaW5jZSB0aGlzIGV2ZW50IGNhblxuICAgICAgLy8gYnViYmxlIHVwIGZyb20gVGV4dElucHV0c1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogbnVsbCxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVMYXlvdXQsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMuX2hhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJSZWplY3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlamVjdCxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVsZWFzZSxcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxFbmREcmFnLFxuICAgICAgb25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuX2hhbmRsZVRvdWNoRW5kLFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuX2hhbmRsZVRvdWNoTW92ZSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5faGFuZGxlVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hDYW5jZWw6IHRoaXMuX2hhbmRsZVRvdWNoQ2FuY2VsLFxuICAgICAgb25TY3JvbGw6IHRoaXMuX2hhbmRsZVNjcm9sbCxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgPyAxXG4gICAgICAgIDogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgc2VuZE1vbWVudHVtRXZlbnRzOlxuICAgICAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiB8fCB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9TdGFydDogdGhpcy5wcm9wcy5zbmFwVG9TdGFydCAhPT0gZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb0VuZDogdGhpcy5wcm9wcy5zbmFwVG9FbmQgIT09IGZhbHNlLFxuICAgICAgLy8gcGFnaW5nRW5hYmxlZCBpcyBvdmVycmlkZGVuIGJ5IHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0c1xuICAgICAgcGFnaW5nRW5hYmxlZDogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgLy8gb24gaU9TLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIGZhbHNlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgaW9zOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgPT0gbnVsbCAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyA9PSBudWxsLFxuICAgICAgICAvLyBvbiBBbmRyb2lkLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBhbmRyb2lkOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgIT0gbnVsbCB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyAhPSBudWxsLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHtkZWNlbGVyYXRpb25SYXRlfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRlY2VsZXJhdGlvblJhdGUgIT0gbnVsbCkge1xuICAgICAgcHJvcHMuZGVjZWxlcmF0aW9uUmF0ZSA9IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlKGRlY2VsZXJhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hDb250cm9sID0gdGhpcy5wcm9wcy5yZWZyZXNoQ29udHJvbDtcbiAgICBjb25zdCBzY3JvbGxWaWV3UmVmID0gdGhpcy5fc2Nyb2xsVmlldy5nZXRGb3J3YXJkaW5nUmVmKFxuICAgICAgdGhpcy5wcm9wcy5zY3JvbGxWaWV3UmVmLFxuICAgICk7XG5cbiAgICBpZiAocmVmcmVzaENvbnRyb2wpIHtcbiAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgLy8gT24gaU9TIHRoZSBSZWZyZXNoQ29udHJvbCBpcyBhIGNoaWxkIG9mIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge3JlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gT24gQW5kcm9pZCB3cmFwIHRoZSBTY3JvbGxWaWV3IHdpdGggYSBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0LlxuICAgICAgICAvLyBTaW5jZSB0aGUgU2Nyb2xsVmlldyBpcyB3cmFwcGVkIGFkZCB0aGUgc3R5bGUgcHJvcHMgdG8gdGhlXG4gICAgICAgIC8vIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQgYW5kIHVzZSBmbGV4OiAxIGZvciB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gTm90ZTogd2Ugc2hvdWxkIHNwbGl0IHByb3BzLnN0eWxlIG9uIHRoZSBpbm5lciBhbmQgb3V0ZXIgcHJvcHNcbiAgICAgICAgLy8gaG93ZXZlciwgdGhlIFNjcm9sbFZpZXcgc3RpbGwgbmVlZHMgdGhlIGJhc2VTdHlsZSB0byBiZSBzY3JvbGxhYmxlXG4gICAgICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgICAgICBjb25zdCB7b3V0ZXIsIGlubmVyfSA9IHNwbGl0TGF5b3V0UHJvcHMoZmxhdHRlblN0eWxlKHByb3BzLnN0eWxlKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgcmVmcmVzaENvbnRyb2wsXG4gICAgICAgICAge3N0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCBvdXRlcil9LFxuICAgICAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXdcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCBpbm5lcil9XG4gICAgICAgICAgICByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldyB7Li4ucHJvcHN9IHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbnR5cGUgRm9yd2FyZGVkUmVmPFQ+ID0ge2N1cnJlbnQ6IG51bGwgfCBULCAuLi59IHwgKChudWxsIHwgVCkgPT4gbWl4ZWQpO1xuXG50eXBlIFJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4gPSB7XG4gIGdldEZvcndhcmRpbmdSZWY6IChcbiAgICA/Rm9yd2FyZGVkUmVmPFRQdWJsaWNJbnN0YW5jZT4sXG4gICkgPT4gKFROYXRpdmVJbnN0YW5jZSB8IG51bGwpID0+IHZvaWQsXG4gIG5hdGl2ZUluc3RhbmNlOiBUTmF0aXZlSW5zdGFuY2UgfCBudWxsLFxuICBwdWJsaWNJbnN0YW5jZTogVFB1YmxpY0luc3RhbmNlIHwgbnVsbCxcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggYHVzZUNhbGxiYWNrYCBhbmQgYHVzZU1lcmdlUmVmc2BcbiAqIG9uY2UgYFNjcm9sbFZpZXdgIGlzIHJlaW1wbGVtZW50ZWQgYXMgYSBmdW5jdGlvbmFsIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPihcbiAgbXV0YXRvcjogVE5hdGl2ZUluc3RhbmNlID0+IFRQdWJsaWNJbnN0YW5jZSxcbik6IFJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4ge1xuICBjb25zdCBzdGF0ZTogUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiA9IHtcbiAgICBnZXRGb3J3YXJkaW5nUmVmOiBtZW1vaXplKGZvcndhcmRlZFJlZiA9PiB7XG4gICAgICByZXR1cm4gKG5hdGl2ZUluc3RhbmNlOiBUTmF0aXZlSW5zdGFuY2UgfCBudWxsKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgICBuYXRpdmVJbnN0YW5jZSA9PSBudWxsID8gbnVsbCA6IG11dGF0b3IobmF0aXZlSW5zdGFuY2UpO1xuXG4gICAgICAgIHN0YXRlLm5hdGl2ZUluc3RhbmNlID0gbmF0aXZlSW5zdGFuY2U7XG4gICAgICAgIHN0YXRlLnB1YmxpY0luc3RhbmNlID0gcHVibGljSW5zdGFuY2U7XG5cbiAgICAgICAgaWYgKGZvcndhcmRlZFJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBmb3J3YXJkZWRSZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZvcndhcmRlZFJlZihwdWJsaWNJbnN0YW5jZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcndhcmRlZFJlZi5jdXJyZW50ID0gcHVibGljSW5zdGFuY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pLFxuICAgIG5hdGl2ZUluc3RhbmNlOiBudWxsLFxuICAgIHB1YmxpY0luc3RhbmNlOiBudWxsLFxuICB9O1xuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbmZ1bmN0aW9uIFdyYXBwZXIocHJvcHMsIHJlZjogKG1peGVkID0+IG1peGVkKSB8IHtjdXJyZW50OiBtaXhlZCwgLi4ufSkge1xuICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSBzY3JvbGxWaWV3UmVmPXtyZWZ9IC8+O1xufVxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcbmNvbnN0IEZvcndhcmRlZFNjcm9sbFZpZXcgPSBSZWFjdC5mb3J3YXJkUmVmKFdyYXBwZXIpO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gQWRkIHN0YXRpYyBjb250ZXh0IHRvIEZvcndhcmRlZFNjcm9sbFZpZXdcbkZvcndhcmRlZFNjcm9sbFZpZXcuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlLFxuPiAmXG4gIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBeUJBLElBQUFBLHVCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFB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